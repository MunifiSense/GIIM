{"version":3,"sources":["tools/refreshToken.js","http-common.js","services/AuthHeader.js","services/CharacterService.js","services/WeaponService.js","services/ItemService.js","components/Main.js","userContext.js","components/Characters.js","components/Weapons.js","tools/ItemCalc.js","components/Items.js","components/ItemSummary.js","components/Suggestions.js","App.js","services/AuthService.js","reportWebVitals.js","index.js"],"names":["refreshTokenSetup","res","refreshTiming","tokenObj","expires_in","refreshToken","a","reloadAuthResponse","newAuthRes","setTimeout","axios","create","baseURL","headers","authHeader","user","JSON","parse","localStorage","getItem","token","Authorization","getUserCharacters","http","get","addUserCharacter","data","post","getUserWeapons","addUserWeapon","getAllItems","getUserItems","updateUserItem","put","Home","Container","fluid","Row","className","style","marginBottom","src","width","height","marginRight","display","verticalAlign","alt","Col","Card","Body","overflowY","Title","Text","href","Header","ListGroup","Item","backgroundColor","userContext","React","createContext","set","require","SearchBar","Search","Characters","useContext","useState","characters","setCharacters","userCharacters","setUserCharacters","characterData","setCharacterData","changed","setChanged","show","setShow","toBeDeleted","setToBeDeleted","addValue","setAddValue","removeValue","setRemoveValue","loading","setLoading","handleClose","editableHeader","position","top","zIndex","boxShadow","columns","dataField","hidden","text","sort","sortCaret","sortingThing","editable","borderRight","headerStyle","formatter","cell","row","rowIndex","formatExtraData","Image","validator","newValue","column","isNaN","valid","message","Users","UserCharacters","desired_level","level","editor","type","Type","CHECKBOX","value","boolFormatter","0","1","normal_atk_desired_level","normal_atk_level","e_atk_desired_level","e_atk_level","q_atk_desired_level","q_atk_level","filter","selectFilter","options","placeholder","defaultValue","defaultSorted","order","right","fill","retrieveCharactersInfo","then","response","console","log","catch","e","retrieveUserCharacters","localUserCharData","setItem","stringify","UpdateUserCharacter","updateUserCharacter","charid","character_id","ascended","ascend_next_max","managed","indexOfChar","findIndex","chara","newUserChar","newUserCharacters","cloneDeep","RemoveUserCharacter","cid","delete","splice","IsCharNotAdded","some","userChar","populateAddUsers","newAddUsers","forEach","element","push","label","name","image","b","populateRemoveUsers","newRemoveUsers","useEffect","CustomOption","props","innerProps","innerRef","isDisabled","ref","padding","paddingLeft","paddingTop","alignItems","size","color","Modal","onHide","backdrop","keyboard","aria-labelledby","centered","closeButton","id","Footer","Button","variant","onClick","keyField","search","paddingRight","searchProps","onChange","charIndex","AddUserCharacter","components","Option","isClearable","undefined","bootstrap4","cellEdit","cellEditFactory","mode","blurToSave","afterSaveCell","oldValue","hover","condensed","classes","bordered","filterFactory","noDataIndication","Spinner","animation","baseProps","disabled","Weapons","weapons","setWeapons","userWeapons","setUserWeapons","weaponData","setWeaponData","replace","UserWeapons","retrieveWeaponsInfo","retrieveUserWeapons","localUserWeaponData","UpdateUserWeapon","updateUserWeapon","weaponid","weapon_id","indexOfWeapon","weapon","newUserWeapon","newUserWeapons","RemoveUserWeapon","IsWeaponNotAdded","userWeapon","wepid","weaponIndex","AddUserWeapon","xpToNextLevel","xpToLevelWeaponRarity3","xpToLevelWeaponRarity4","xpToLevelWeaponRarity5","getNeededItemsCharacters","userCharResponse","userItemResponse","neededItems","character","Number","characteritems","rarity","crystal","asc_item_group","item_rarity2","findItemFromItemGroup","item_rarity3","item_rarity4","item_rarity5","rarity2","rarity3","rarity4","rarity5","boss","item","asc_item_group1","amount","specialty","asc_item_specialty","common","asc_item_common","item_rarity1","rarity1","talent","item_talent_common","item_talent","common_rarity1","common_rarity2","common_rarity3","weeklyBoss","item_talent_boss","xp","total","heroswit","adventurers","wanderers","extra","mora","ascension","leveling","talents","index","Math","floor","getNeededItemsWeapons","userWeaponResponse","weaponitems","weapon_type","domain","common1","common2","asc_item_group2","mystic","fine","regular","wasted","setupNeededItems","userItems","needed","neededWeaponAsc","neededWeaponLevel","neededCharacterAsc","neededCharacterLevel","neededCharacterTalent","canForge","totalAmount","retrieveNeededWeaponItems","findItemIndex","retrieveNeededCharacterItems","checkForge","i","length","craftable","item_group","UserItems","findItemIndexFromItemGroup","forge","retrieveNeeded","items","find","Items","setItems","setUserItems","itemData","setItemData","unEditableHeader","borderLeft","numberFilter","number","comparator","Comparator","GT","colIndex","forgeFormatter","retrieveItemsInfo","Promise","resolve","reject","retrieveUserItems","localUserItemData","newUserItems","newUserItem","UpdateUserItem","itemid","item_id","indexOfItem","itema","userItem","weaponItems","setWeaponItems","characterItems","setCharacterItems","domainItems","setDomainItems","monsterItems","setMonsterItems","bossItems","setBossItems","harvestingItems","setHarvestingItems","miscItems","setMiscItems","ToggleIcon","children","eventKey","callback","currentEventKey","AccordionContext","decoratedOnClick","useAccordionToggle","cursor","marginLeft","getItemImage","itemName","itemSummary","itemsList","domainStuff","monsterStuff","bossStuff","normal","weekly","harvestingStuff","miscStuff","Monsters","monster","Domains","ItemDomains","day_of_week1","location","imageWithToolTipIfAmount","itemType","OverlayTrigger","placement","overlay","Tooltip","getRarityGradient","background","getRarityFrame","backgroundImage","backgroundRepeat","backgroundSize","paddingBottom","getRarityStars","something","role","Accordion","defaultActiveKey","as","Collapse","Object","keys","map","monsterName","Img","item2","j","domainName","margin","placeName","typeName","maxWidth","maxHeight","marginTop","roundedCircle","weaponType","borderRadius","title","frameborder","marginheight","marginwidth","App","collapsed","setCollapsed","menuOpen","setMenuOpen","showModal","setShowModal","setUser","loginSuccess","tokenId","localUserCharacters","localUserWeapons","localUserItems","removeItem","error","Provider","Navbar","fixed","onMouseDown","preventDefault","Brand","clientId","buttonText","onLogoutSuccess","theme","onSuccess","onFailure","cookiePolicy","isSignedIn","dimension","in","iconShape","icon","to","exact","path","component","ItemSummary","Suggestions","md","span","offset","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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P,UAAU,cACVqF,MAASxC,GACToD,QAAS+C,KACT+B,SACI,SAAC1F,QACgBgG,IAAVhG,IACC3C,EAAe2C,GACf7C,GAAQ,GACRM,GAAe,QAI3BoD,YAAY,6BACZgF,WAAc,CACVC,OAAQhC,IAEZiC,aAAW,YAKvB,cAAC,IAAD,aACIE,YAAU,EACVC,SAAWC,IAAgB,CACvBC,KAAM,QACNC,YAAY,EACZC,cAAe,SAACC,EAAUpH,EAAUL,EAAKM,GACrC,IAAI8I,EAAgBX,EAAWjF,WAAU,SAAAkG,GAAU,OAAIA,EAAWP,YAAcnJ,EAAIU,MAAM,GAAGkI,YAAYO,cACnF,IAAnBC,EACCX,EAAWW,GAAiBpJ,EAAIU,MAAM,GAAGkI,YAEzCH,EAAWjE,KAAKxE,EAAIU,MAAM,GAAGkI,aAEjCF,EAAcD,GACdtK,GAAW,MAGnB8D,cAAiBA,GACjByF,OAAK,EAACC,WAAS,EACfC,QAAQ,WACRC,UAAW,EACXjG,OAASkG,MACTC,iBAAkB,kBACdnJ,GAAU,cAACoJ,EAAA,EAAD,CAASC,UAAU,SAAS3B,QAAQ,UAAa,0CAE1DrB,EAAMiD,uBASnC,cAAC7B,EAAA,EAAD,CAAQC,QAAQ,UAAUzK,UAAU,0CAA0C0K,QAAS,kBA5LvFpI,GAAW,GACXsK,EAAWnE,QAAQ0E,SACnBN,EAAc,KA0L8FP,UAAWjK,EAAvH,sB,UCzhBF4L,GAAgB,CAClB,EACA,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,IACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QAGEC,GAAyB,CAC3B,EACA,IACA,IACA,IACA,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,IACA,MACA,MACA,OAGEC,GAAyB,CAC3B,IACA,IACA,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,MACA,OACA,QAGEC,GAAyB,CAC3B,EACA,IACA,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OA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","file":"static/js/main.10351d8b.chunk.js","sourcesContent":["export const refreshTokenSetup = (res) => {\r\n    let refreshTiming = (res.tokenObj.expires_in || 3600 - 5 * 60) * 1000;\r\n\r\n    const refreshToken = async () => {\r\n        const newAuthRes = await res.reloadAuthResponse();\r\n        refreshTiming = (newAuthRes.expires_in || 3600 - 5 * 60) * 1000;\r\n        setTimeout(refreshToken, refreshTiming);\r\n    };\r\n\r\n    setTimeout(refreshToken, refreshTiming);\r\n};","import axios from \"axios\";\r\n\r\nexport default axios.create({\r\n  baseURL: \"http://server.muni.moe/gimdb/api\",\r\n  headers: {\r\n    \"Content-type\": \"application/json\"\r\n  }\r\n});\r\n","export default function authHeader() {\r\n  const user = JSON.parse(localStorage.getItem('user'));\r\n\r\n  if (user && user.token) {\r\n    return { Authorization: 'Bearer ' + user.token };\r\n  } else {\r\n    return {};\r\n  }\r\n}\r\n","import http from \"../http-common\";\r\nimport authHeader from '../services/AuthHeader';\r\n\r\nexport function getAllCharacters() {\r\n  return http.get(\"/characters\");\r\n}\r\n\r\nexport function getByName(name) {\r\n  return http.get(`/characters/${name}`);\r\n};\r\n\r\nexport function getUserCharacters(){\r\n  return http.get(`/usercharacters/`, { headers: authHeader() });\r\n};\r\n\r\nexport function addUserCharacter(data){\r\n  return http.post(`/usercharacters`, data, { headers: authHeader() });\r\n}\r\n\r\nexport function updateUserCharacter(data){\r\n  return http.put(`/usercharacters`, data, { headers: authHeader() });\r\n}\r\n\r\nexport function removeUserCharacter(charid){\r\n  return http.delete(`/usercharacters/${charid}`, { headers: authHeader() });\r\n}\r\n\r\nexport function getLocalUserCharacters(){\r\n  return JSON.parse(localStorage.getItem(\"userCharacters\"));\r\n}","import http from \"../http-common\";\r\nimport authHeader from '../services/AuthHeader';\r\n\r\nexport function getAllWeapons() {\r\n  return http.get(\"/weapons\");\r\n}\r\n\r\nexport function getByName(name) {\r\n  return http.get(`/weapons/${name}`);\r\n};\r\n\r\nexport function getUserWeapons(){\r\n  return http.get(`/userweapons/`, { headers: authHeader() });\r\n};\r\n\r\nexport function addUserWeapon(data){\r\n  return http.post(`/userweapons`, data, { headers: authHeader() });\r\n}\r\n\r\nexport function updateUserWeapon(data){\r\n  return http.put(`/userweapons`, data, { headers: authHeader() });\r\n}\r\n\r\nexport function removeUserWeapon(weaponid){\r\n  return http.delete(`/userweapons/${weaponid}`, { headers: authHeader() });\r\n}\r\n\r\nexport function getLocalUserWeapons(){\r\n  return JSON.parse(localStorage.getItem(\"userWeapons\"));\r\n}","import http from \"../http-common\";\r\nimport authHeader from '../services/AuthHeader';\r\n\r\n// Get item of corresponding type and rarity\r\n\r\nexport function getItem(type, rarity) {\r\n    return http.get(`/items?type=${type}?rarity=${rarity}`);\r\n}\r\n\r\nexport function getAllItems() {\r\n    return http.get(\"/items\");\r\n};\r\n\r\nexport function getUserItems(){\r\n    return http.get(`/useritems/`, { headers: authHeader() });\r\n};\r\n  \r\n  export function addUserItems(){\r\n    return http.post(`/useritems/`,{}, { headers: authHeader() });\r\n};\r\n  \r\n  export function updateUserItem(data){\r\n    return http.put(`/useritems`, data, { headers: authHeader() });\r\n};\r\n\r\nexport function getLocalUserItems(){\r\n  return JSON.parse(localStorage.getItem(\"userItems\"));\r\n}","import Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Col from 'react-bootstrap/esm/Col';\r\nimport ListGroup from 'react-bootstrap/ListGroup'\r\n\r\nfunction Home(){\r\n    return(\r\n        <Container fluid>\r\n          <Row className=\"justify-content-md-center\" style={{marginBottom: '20px'}}>\r\n            <div>\r\n              <img src={process.env.PUBLIC_URL + '/logo192.png'} style={{width: '50px', height: '50px', marginRight: '10px', display: 'inline-block', verticalAlign: 'top'}} alt=\"Website logo that looks like a heart\"/>              \r\n              <h1 style={{display: 'inline-block'}}>\r\n              Genshin Item Manager\r\n              </h1>\r\n            </div>           \r\n          </Row>\r\n          <Row>\r\n            <Col>\r\n              <Card className=\"my-card\">\r\n                <Card.Body style={{overflowY: 'auto'}}>\r\n                  <Card.Title><b>Welcome to Genshin Item Manager!</b></Card.Title>\r\n                  <Card.Text>\r\n                  This is a site for managing your Genshin Impact items! You can set your characters or weapons and find out exactly how many of each item you need to collect.\r\n                  <br></br>\r\n                  <br></br>  \r\n                  Click the menu bar on the top left to access the important stuff.\r\n                  <br></br>\r\n                  <br></br>    \r\n                  If you want to contact me about any problems with the website or have any suggestions for me, you can visit the <a href=\"/suggestions\">Suggestions</a> page, \r\n                  or you can DM me on Discord at <a href=\"https://discordapp.com/users/Muni#4321\">Muni#4321</a>!\r\n                  </Card.Text>\r\n                </Card.Body>\r\n              </Card>\r\n            </Col>\r\n            <Col>\r\n              <Card className=\"my-card\">\r\n                <Card.Header><b>Changelog</b></Card.Header>\r\n                <ListGroup style={{overflowY: 'auto'}}>\r\n                  <ListGroup.Item style={{backgroundColor: '#424242'}}>\r\n                    v1.0<br></br>\r\n                    First release!<br></br>\r\n                    Nothing much to put here yet because its the first release...\r\n                  </ListGroup.Item>\r\n                </ListGroup>\r\n              </Card>\r\n            </Col> \r\n          </Row>                \r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Home;","import React from \"react\";\r\n\r\nconst userContext = React.createContext({user: {}}); // Create a context object\r\n\r\nexport {\r\n  userContext\r\n};","import React, { useEffect, useState, useContext } from \"react\";\r\nimport {addUserCharacter, getAllCharacters, getUserCharacters, updateUserCharacter, removeUserCharacter} from \"../services/CharacterService\";\r\nimport Container from 'react-bootstrap/Container';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Image from 'react-bootstrap/Image';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport { Type } from 'react-bootstrap-table2-editor';\r\nimport cellEditFactory from 'react-bootstrap-table2-editor';\r\nimport ToolkitProvider, { Search } from 'react-bootstrap-table2-toolkit';\r\nimport {FaSortUp, FaSortDown} from 'react-icons/fa';\r\nimport filterFactory, { selectFilter } from 'react-bootstrap-table2-filter';\r\nimport Select from 'react-select';\r\nimport { BsFillPeopleFill } from 'react-icons/bs';\r\nimport \"../App.css\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport { userContext } from \"../userContext\";\r\nimport {cloneDeep} from \"lodash\";\r\nconst set = require('set-value');\r\nconst { SearchBar } = Search;\r\n\r\nfunction Characters(){\r\n    const user = useContext(userContext);\r\n    const [characters, setCharacters] = useState([]);\r\n    const [userCharacters, setUserCharacters] = useState([]);\r\n    const [characterData, setCharacterData] = useState([]);\r\n    const [changed, setChanged] = useState(false);\r\n    const [show, setShow] = useState(false);\r\n    const [toBeDeleted, setToBeDeleted] = useState({});\r\n    const [addValue, setAddValue] = useState();\r\n    const [removeValue, setRemoveValue] = useState();\r\n    const [loading, setLoading] = useState(true);\r\n    const handleClose = () => setShow(false);\r\n\r\n    const selectOptions = {\r\n        0: '-',\r\n        1: '✓'\r\n    };\r\n\r\n    const editableHeader = {\r\n        backgroundColor: '#303030', \r\n        position: 'sticky', \r\n        top: '50px', \r\n        zIndex: '1', \r\n        boxShadow: 'inset 1px 0px white, 0 2px white',\r\n        height: '100px'\r\n    };\r\n\r\n    const columns = [{\r\n        dataField: `character_id`,\r\n        hidden: true\r\n    }, {\r\n        dataField: `name`,\r\n        text: `Character`,\r\n        sort: true,\r\n        sortCaret: sortingThing,\r\n        editable: false,\r\n        style: {borderRight: '1px solid white', width: '175px'},\r\n        headerStyle: {backgroundColor: '#424242', borderRight: '1px solid white', width: '175px', position: 'sticky', top: '50px', zIndex: '1', boxShadow: '1px 0px white, 0 2px white'},\r\n        formatter: imageFormatter\r\n    },{\r\n        dataField: `Users[0].UserCharacters.level`,\r\n        text: `Level`,\r\n        sort: true,\r\n        sortCaret: sortingThing,\r\n        validator: checkLevel,\r\n        style: {backgroundColor: '#303030'},\r\n        headerStyle: editableHeader\r\n    },{\r\n        dataField: `Users[0].UserCharacters.desired_level`,\r\n        text: `Desired\\nLevel`,\r\n        sort: true,\r\n        sortCaret: sortingThing,\r\n        validator: checkDesiredLevel,\r\n        style: {backgroundColor: '#303030'},\r\n        headerStyle: editableHeader\r\n    },{\r\n        dataField: `Users[0].UserCharacters.ascended`,\r\n        text: `Ascended`,\r\n        editor: {\r\n            type: Type.CHECKBOX,\r\n            value: '1:0'\r\n        },\r\n        formatter: boolFormatter,\r\n        formatExtraData: {\r\n            0: '-',\r\n            1: '✓'\r\n        },\r\n        sort: true,\r\n        sortCaret: sortingThing,\r\n        style: {backgroundColor: '#303030'},\r\n        headerStyle: editableHeader\r\n    },{\r\n        dataField: `Users[0].UserCharacters.ascend_next_max`,\r\n        text: `Ascend\\nOn Max?`,\r\n        editor: {\r\n            type: Type.CHECKBOX,\r\n            value: '1:0'\r\n        },\r\n        formatter: boolFormatter,\r\n        formatExtraData: {\r\n            0: '-',\r\n            1: '✓'\r\n        },\r\n        sort: true,\r\n        sortCaret: sortingThing,\r\n        style: {backgroundColor: '#303030'},\r\n        headerStyle: editableHeader\r\n    },{\r\n        dataField: `Users[0].UserCharacters.normal_atk_level`,\r\n        text: `Normal\\nAttack Level`,\r\n        sort: true,\r\n        sortCaret: sortingThing,\r\n        validator: checkNTalent,\r\n        style: {backgroundColor: '#303030'},\r\n        headerStyle: editableHeader\r\n    },{\r\n        dataField: `Users[0].UserCharacters.normal_atk_desired_level`,\r\n        text: `Normal\\nAttack Desired Level`,\r\n        sort: true,\r\n        sortCaret: sortingThing,\r\n        validator: checkNDesiredTalent,\r\n        style: {backgroundColor: '#303030'},\r\n        headerStyle: editableHeader\r\n    },{\r\n        dataField: `Users[0].UserCharacters.e_atk_level`,\r\n        text: `Elemental\\nSkill Level`,\r\n        sort: true,\r\n        sortCaret: sortingThing,\r\n        validator: checkETalent,\r\n        style: {backgroundColor: '#303030'},\r\n        headerStyle: editableHeader\r\n    },{\r\n        dataField: `Users[0].UserCharacters.e_atk_desired_level`,\r\n        text: `Elemental\\nSkill Desired Level`,\r\n        sort: true,\r\n        sortCaret: sortingThing,\r\n        validator: checkEDesiredTalent,\r\n        style: {backgroundColor: '#303030'},\r\n        headerStyle: editableHeader\r\n    },{\r\n        dataField: `Users[0].UserCharacters.q_atk_level`,\r\n        text: `Elemental\\nBurst Level`,\r\n        sort: true,\r\n        sortCaret: sortingThing,\r\n        validator: checkQTalent,\r\n        style: {backgroundColor: '#303030'},\r\n        headerStyle: editableHeader\r\n    },{\r\n        dataField: `Users[0].UserCharacters.q_atk_desired_level`,\r\n        text: `Elemental\\nBurst Desired Level`,\r\n        sort: true,\r\n        sortCaret: sortingThing,\r\n        validator: checkQDesiredTalent,\r\n        style: {backgroundColor: '#303030'},\r\n        headerStyle: editableHeader\r\n    },{\r\n        dataField: `Users[0].UserCharacters.managed`,\r\n        text: `Managed`,\r\n        editor: {\r\n            type: Type.CHECKBOX,\r\n            value: '1:0'\r\n        },\r\n        formatter: boolFormatter,\r\n        formatExtraData: {\r\n            0: '-',\r\n            1: '✓'\r\n        },\r\n        style: {backgroundColor: '#303030'},\r\n        headerStyle: editableHeader,\r\n        sort: true,\r\n        sortCaret: sortingThing,\r\n        filter: selectFilter({\r\n            options: selectOptions,\r\n            placeholder: 'Any',\r\n            defaultValue: 1\r\n        })\r\n    }];\r\n\r\n    const defaultSorted = [{\r\n        dataField: 'name',\r\n        order: 'asc'\r\n    }];\r\n\r\n    \r\n\r\n    function sortingThing(order, column){\r\n        if (!order) return (\r\n        <span>&nbsp;&nbsp;\r\n            <div style={{display: 'inline-block'}}>\r\n                <FaSortUp />\r\n                <FaSortDown style={{ position: 'relative', right: '16px'}} />\r\n            </div>\r\n        </span>);\r\n        else if (order === 'asc') return (\r\n        <span>&nbsp;&nbsp;\r\n            <div style={{display: 'inline-block'}}>\r\n                <FaSortUp />\r\n                <FaSortDown style={{ position: 'relative', right: '16px', fill: 'gray' }} />\r\n            </div>\r\n        </span>);\r\n        else if (order === 'desc') return (\r\n        <span>&nbsp;&nbsp;\r\n            <div style={{display: 'inline-block'}}>\r\n                <FaSortUp style={{ fill: 'gray' }} />\r\n                <FaSortDown style={{ position: 'relative', right: '16px' }}/>\r\n            </div>\r\n        </span>);\r\n        return null;\r\n    }\r\n\r\n    function checkLevel(newValue, row, column){\r\n        if (isNaN(newValue)) {\r\n            return {\r\n              valid: false,\r\n              message: 'Level should be numeric'\r\n            };\r\n        }\r\n        else if (newValue > 90) {\r\n            return {\r\n                valid: false,\r\n                message: 'Level should not be higher than 90'\r\n            };\r\n        }\r\n        else if(newValue < 1){\r\n            return {\r\n                valid: false,\r\n                message: 'Level should not be lower than 1'\r\n            };\r\n        }\r\n        else if(newValue > row.Users[0].UserCharacters.desired_level){\r\n            row.Users[0].UserCharacters.desired_level = newValue;\r\n            return true;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    function checkDesiredLevel(newValue, row, column){\r\n        if (isNaN(newValue)) {\r\n            return {\r\n              valid: false,\r\n              message: 'Desired level should be numeric'\r\n            };\r\n        }\r\n        else if (newValue > 90) {\r\n            return {\r\n                valid: false,\r\n                message: 'Desired level should not be higher than 90'\r\n            };\r\n        }\r\n        else if(newValue < 1){\r\n            return {\r\n                valid: false,\r\n                message: 'Desired level should not be lower than 1'\r\n            };\r\n        }\r\n        else if(newValue < row.Users[0].UserCharacters.level){\r\n            return {\r\n                valid: false,\r\n                message: 'Desired level should be higher than level'\r\n            };\r\n        }\r\n        return true;\r\n    }\r\n\r\n    function checkQTalent(newValue, row, column){\r\n        if (isNaN(newValue)) {\r\n            return {\r\n              valid: false,\r\n              message: 'Talent level should be numeric'\r\n            };\r\n        }\r\n        else if (newValue > 10) {\r\n            return {\r\n                valid: false,\r\n                message: 'Talent level should not be higher than 10'\r\n            };\r\n        }\r\n        else if(newValue < 1){\r\n            return {\r\n                valid: false,\r\n                message: 'Talent level should not be lower than 1'\r\n            };\r\n        }\r\n        else if(newValue > row.Users[0].UserCharacters.q_atk_desired_level){\r\n            row.Users[0].UserCharacters.q_atk_desired_level = newValue;\r\n            return true;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    function checkQDesiredTalent(newValue, row, column){\r\n        if (isNaN(newValue)) {\r\n            return {\r\n              valid: false,\r\n              message: 'Desired talent level should be numeric'\r\n            };\r\n        }\r\n        else if (newValue > 10) {\r\n            return {\r\n                valid: false,\r\n                message: 'Desired talent level should not be higher than 10'\r\n            };\r\n        }\r\n        else if(newValue < 1){\r\n            return {\r\n                valid: false,\r\n                message: 'Desired talent level should not be lower than 1'\r\n            };\r\n        }\r\n        else if(newValue < row.Users[0].UserCharacters.q_atk_level){\r\n            return {\r\n                valid: false,\r\n                message: 'Desired level should be higher than level'\r\n            };\r\n        }\r\n        return true;\r\n    }\r\n\r\n    function checkNTalent(newValue, row, column){\r\n        if (isNaN(newValue)) {\r\n            return {\r\n              valid: false,\r\n              message: 'Talent level should be numeric'\r\n            };\r\n        }\r\n        else if (newValue > 10) {\r\n            return {\r\n                valid: false,\r\n                message: 'Talent level should not be higher than 10'\r\n            };\r\n        }\r\n        else if(newValue < 1){\r\n            return {\r\n                valid: false,\r\n                message: 'Talent level should not be lower than 1'\r\n            };\r\n        }\r\n        else if(newValue > row.Users[0].UserCharacters.normal_atk_desired_level){\r\n            row.Users[0].UserCharacters.normal_atk_desired_level = newValue;\r\n            return true;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    function checkNDesiredTalent(newValue, row, column){\r\n        if (isNaN(newValue)) {\r\n            return {\r\n              valid: false,\r\n              message: 'Desired talent level should be numeric'\r\n            };\r\n        }\r\n        else if (newValue > 10) {\r\n            return {\r\n                valid: false,\r\n                message: 'Desired talent level should not be higher than 10'\r\n            };\r\n        }\r\n        else if(newValue < 1){\r\n            return {\r\n                valid: false,\r\n                message: 'Desired talent level should not be lower than 1'\r\n            };\r\n        }\r\n        else if(newValue < row.Users[0].UserCharacters.normal_atk_level){\r\n            return {\r\n                valid: false,\r\n                message: 'Desired level should be higher than level'\r\n            };\r\n        }\r\n        return true;\r\n    }\r\n\r\n    function checkETalent(newValue, row, column){\r\n        if (isNaN(newValue)) {\r\n            return {\r\n              valid: false,\r\n              message: 'Talent level should be numeric'\r\n            };\r\n        }\r\n        else if (newValue > 10) {\r\n            return {\r\n                valid: false,\r\n                message: 'Talent level should not be higher than 10'\r\n            };\r\n        }\r\n        else if(newValue < 1){\r\n            return {\r\n                valid: false,\r\n                message: 'Talent level should not be lower than 1'\r\n            };\r\n        }\r\n        else if(newValue > row.Users[0].UserCharacters.e_atk_desired_level){\r\n            row.Users[0].UserCharacters.e_atk_desired_level = newValue;\r\n            return true;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    function checkEDesiredTalent(newValue, row, column){\r\n        if (isNaN(newValue)) {\r\n            return {\r\n              valid: false,\r\n              message: 'Desired talent level should be numeric'\r\n            };\r\n        }\r\n        else if (newValue > 10) {\r\n            return {\r\n                valid: false,\r\n                message: 'Desired talent level should not be higher than 10'\r\n            };\r\n        }\r\n        else if(newValue < 1){\r\n            return {\r\n                valid: false,\r\n                message: 'Desired talent level should not be lower than 1'\r\n            };\r\n        }\r\n        else if(newValue < row.Users[0].UserCharacters.e_atk_level){\r\n            return {\r\n                valid: false,\r\n                message: 'Desired level should be higher than level'\r\n            };\r\n        }\r\n        return true;\r\n    }\r\n\r\n    useEffect(() =>{\r\n        setLoading(true);\r\n        retrieveCharactersInfo();\r\n        retrieveUserCharacters();\r\n        setLoading(false);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [user]);\r\n\r\n    function retrieveCharactersInfo(){\r\n        getAllCharacters().then(response => {\r\n            setCharacters(response.data);\r\n            console.log(response.data);\r\n        }).catch(e => {\r\n            console.log(e);\r\n        });\r\n    };\r\n\r\n    function retrieveUserCharacters(){\r\n        if(user){\r\n            getUserCharacters().then(response => {\r\n                setUserCharacters(response.data);\r\n                console.log(response.data);\r\n            }).catch(e => {\r\n                console.log(e);\r\n            });\r\n        }else{\r\n            // If not signed in and no userCharacters stored locally...\r\n            const localUserCharData = localStorage.getItem(\"userCharacters\");\r\n            if(!localUserCharData){\r\n                localStorage.setItem(\"userCharacters\", JSON.stringify([]));\r\n                setUserCharacters([]);\r\n            }else{\r\n                setUserCharacters(JSON.parse(localUserCharData));\r\n            }\r\n        }\r\n        \r\n    };\r\n\r\n    function AddUserCharacter(cid){\r\n        if(user){\r\n            const data ={\r\n                charid: cid\r\n            };\r\n            addUserCharacter(data)\r\n            .then(response => {\r\n                console.log(response.data);\r\n                console.log(\"The user character was added successfully!\");\r\n                retrieveUserCharacters();\r\n            })\r\n            .catch(e => {\r\n                console.log(e);\r\n            });\r\n        }else{\r\n            const charIndex = characters.findIndex((element) => element.character_id === cid);\r\n            const newUserChar = characters[charIndex];\r\n            newUserChar.Users = [];\r\n            newUserChar.Users[0]= {};\r\n            set(newUserChar.Users[0], 'UserCharacters.character_id', cid)\r\n            set(newUserChar.Users[0], 'UserCharacters.level', 1);\r\n            set(newUserChar.Users[0], 'UserCharacters.desired_level', 1);\r\n            set(newUserChar.Users[0], 'UserCharacters.ascended', 0);\r\n            set(newUserChar.Users[0], 'UserCharacters.ascend_next_max', 0);\r\n            set(newUserChar.Users[0], 'UserCharacters.normal_atk_level', 1);\r\n            set(newUserChar.Users[0], 'UserCharacters.normal_atk_desired_level', 1);\r\n            set(newUserChar.Users[0], 'UserCharacters.q_atk_level', 1);\r\n            set(newUserChar.Users[0], 'UserCharacters.q_atk_desired_level', 1);\r\n            set(newUserChar.Users[0], 'UserCharacters.e_atk_level', 1);\r\n            set(newUserChar.Users[0], 'UserCharacters.e_atk_desired_level', 1);\r\n            set(newUserChar.Users[0], 'UserCharacters.managed', 1);\r\n            const newUserCharacters = cloneDeep(userCharacters);\r\n            newUserCharacters.push(newUserChar);\r\n            setUserCharacters(newUserCharacters);\r\n            localStorage.setItem(\"userCharacters\", JSON.stringify(newUserCharacters));\r\n        }\r\n    };\r\n\r\n    function UpdateUserCharacter(value){\r\n        if(user){\r\n            const data ={\r\n                charid: value.character_id,\r\n                level: value.level,\r\n                desired_level: value.desired_level,\r\n                ascended: value.ascended,\r\n                ascend_next_max: value.ascend_next_max,\r\n                normal_atk_level: value.normal_atk_level,\r\n                normal_atk_desired_level: value.normal_atk_desired_level,\r\n                q_atk_level: value.q_atk_level,\r\n                q_atk_desired_level: value.q_atk_desired_level,\r\n                e_atk_level: value.e_atk_level,\r\n                e_atk_desired_level: value.e_atk_desired_level,\r\n                managed: value.managed\r\n            };\r\n            updateUserCharacter(data)\r\n            .then(response => {\r\n                console.log(response.data);\r\n                console.log(\"The user character was updated successfully!\");\r\n            })\r\n            .catch(e => {\r\n                console.log(e);\r\n            });\r\n        }else{\r\n            const indexOfChar = userCharacters.findIndex((chara) => chara.character_id === value.character_id);\r\n            console.log(value);\r\n            console.log(indexOfChar);\r\n            const newUserChar = userCharacters[indexOfChar];\r\n            set(newUserChar.Users[0], 'UserCharacters.level', value.level);\r\n            set(newUserChar.Users[0], 'UserCharacters.desired_level', value.desired_level);\r\n            set(newUserChar.Users[0], 'UserCharacters.ascended', value.ascended);\r\n            set(newUserChar.Users[0], 'UserCharacters.ascend_next_max', value.ascend_next_max);\r\n            set(newUserChar.Users[0], 'UserCharacters.normal_atk_level', value.normal_atk_level);\r\n            set(newUserChar.Users[0], 'UserCharacters.normal_atk_desired_level',value.normal_atk_desired_level);\r\n            set(newUserChar.Users[0], 'UserCharacters.q_atk_level', value.q_atk_level);\r\n            set(newUserChar.Users[0], 'UserCharacters.q_atk_desired_level', value.q_atk_desired_level);\r\n            set(newUserChar.Users[0], 'UserCharacters.e_atk_level', value.e_atk_level);\r\n            set(newUserChar.Users[0], 'UserCharacters.e_atk_desired_level', value.e_atk_desired_level);\r\n            set(newUserChar.Users[0], 'UserCharacters.managed', value.managed);\r\n            const newUserCharacters = cloneDeep(userCharacters);\r\n            newUserCharacters[indexOfChar] = newUserChar;\r\n            setUserCharacters(newUserCharacters);\r\n            localStorage.setItem(\"userCharacters\", JSON.stringify(newUserCharacters));\r\n        }\r\n        \r\n    }; \r\n\r\n    function RemoveUserCharacter(cid){\r\n        if(user){\r\n            removeUserCharacter(cid)\r\n            .then(response => {\r\n                console.log(response.data);\r\n                retrieveCharactersInfo();\r\n                retrieveUserCharacters();\r\n                console.log(\"The user character was removed successfully!\");\r\n            })\r\n            .catch(e => {\r\n                console.log(e);\r\n            });\r\n        }else{\r\n            const newUserCharacters = cloneDeep(userCharacters);\r\n            newUserCharacters.splice(newUserCharacters.findIndex(chara => chara.character_id === cid), 1);\r\n            setUserCharacters(newUserCharacters);\r\n            localStorage.setItem(\"userCharacters\", JSON.stringify(newUserCharacters));\r\n        }\r\n        //populateAddUsers();\r\n        //populateRemoveUsers();\r\n    };\r\n\r\n    function IsCharNotAdded(value){\r\n        return !userCharacters.some(userChar => userChar.character_id === value.character_id);\r\n    }\r\n\r\n    function boolFormatter(cell, row, rowIndex, formatExtraData) {\r\n        return(\r\n        <span>{formatExtraData[cell]}</span>\r\n        )\r\n    }\r\n\r\n    function imageFormatter(cell, row, rowIndex, formatExtraData) {\r\n        return(\r\n        <span>\r\n            <Image src={'https://muni.moe/images/genshin/Character_'+cell+'_Thumb.png'} style={{height: '64px', width: '64px', marginRight: \"10px\", display: 'inline-block', verticalAlign: 'middle'}}/>\r\n            <p style={{display: 'inline-block'}}>{cell}</p>\r\n            \r\n        </span>\r\n        )\r\n    }\r\n\r\n    function populateAddUsers(){\r\n        const newAddUsers = [];\r\n        characters.filter(IsCharNotAdded).forEach((element) => {\r\n            newAddUsers.push({\r\n                value: element.character_id,\r\n                label: element.name,\r\n                image: 'https://muni.moe/images/genshin/Character_'+ element.name +'_Thumb.png'\r\n            });\r\n        });\r\n        newAddUsers.sort((a, b) => {\r\n            return a.label > b.label ? 1 : b.label > a.label ? -1 : 0;\r\n        });\r\n        return newAddUsers;\r\n    }\r\n\r\n    function populateRemoveUsers(){\r\n        const newRemoveUsers = [];\r\n        userCharacters.forEach((element) => {\r\n            newRemoveUsers.push({\r\n                value: element.character_id,\r\n                label: element.name,\r\n                image: 'https://muni.moe/images/genshin/Character_'+ element.name +'_Thumb.png'\r\n            });\r\n        });\r\n        newRemoveUsers.sort((a, b) => {\r\n            return a.label > b.label ? 1 : b.label > a.label ? -1 : 0;\r\n        });\r\n       return newRemoveUsers;\r\n    }\r\n\r\n    const CustomOption = props => {\r\n        const { innerProps, innerRef, isDisabled } = props;\r\n        return (!isDisabled ? (\r\n            <div ref={innerRef} {...innerProps} className=\"custom-option\"> \r\n                <img src={props.data.image} style={{height: '32px', width: '32px', marginRight: \"5px\", display: 'inline-block', verticalAlign: 'middle', padding: '2px'} } alt= {props.data.label}/>\r\n                {props.data.label}\r\n            </div>\r\n        ) : null);\r\n    }\r\n        \r\n\r\n    function saveChanged(){\r\n        setChanged(false);\r\n        characterData.forEach(UpdateUserCharacter);\r\n        setCharacterData([]);\r\n    }\r\n\r\n    return(\r\n        <>\r\n        <Row className=\"justify-content-md-center\" style={{paddingLeft: '10px', paddingTop: '30px'}}>\r\n            <div style={{display: 'flex', alignItems: 'center'}}>\r\n                <BsFillPeopleFill size='64' color='white' style={{display: \"inline-block\", verticalAlign: 'middle !important', marginRight: '10px'}}/>\r\n                <h1 style={{display: \"inline-block\"}}>Team Roster</h1>\r\n            </div>             \r\n        </Row>\r\n        <Row className=\"justify-content-md-center\" style={{paddingLeft: '10px'}}>\r\n            <p>Click a dark cell to edit!</p>\r\n        </Row>\r\n        <Container fluid className='table-container'>\r\n            <Modal\r\n                show={show}\r\n                onHide={handleClose}\r\n                backdrop=\"static\"\r\n                keyboard={false}\r\n                aria-labelledby=\"contained-modal-title-vcenter\"\r\n                centered\r\n                size=\"lg\"\r\n            >\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title id=\"contained-modal-title-vcenter\">\r\n                        Deleting Character\r\n                    </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    Are you sure you want to remove {toBeDeleted ? toBeDeleted.label : ''} from your roster?\r\n                    <br></br>Doing so will wipe all data relating to them!<br></br>\r\n                    <b>TIP: If you set a character to not managed, they won't show up by default.</b>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={handleClose}>\r\n                    Nevermind\r\n                </Button>\r\n                <Button variant=\"primary\" onClick={() => {\r\n                    handleClose();\r\n                    RemoveUserCharacter(toBeDeleted.value);\r\n                }             \r\n                    }>\r\n                    Yes\r\n                </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n            \r\n            <Row className=\"justify-content-md-center\">\r\n                <ToolkitProvider\r\n                    keyField=\"character_id\"\r\n                    data={ userCharacters }\r\n                    columns={ columns }\r\n                    search\r\n                >{\r\n                    props => (\r\n                        <div>\r\n                            <Row className=\"justify-content-md-between\" style={{paddingLeft: '30px', paddingRight: '30px'}}>\r\n                                <div style={{width: '300px', display: \"inline-block\"}} >\r\n                                    <SearchBar { ...props.searchProps } className=\"searchBar\"/>\r\n                                </div>\r\n                                <div>\r\n                                    <div style={{width: '300px', display: \"inline-block\"}}>\r\n                                        <Select \r\n                                            className=\"my-dropdown\"\r\n                                            value = {addValue}\r\n                                            options={populateAddUsers()} \r\n                                            onChange={\r\n                                                (value) => {\r\n                                                    AddUserCharacter(value.value);\r\n                                                    setAddValue(null);\r\n                                                }\r\n                                            }\r\n                                            placeholder=\"Select character to add...\"\r\n                                            components = {{\r\n                                                Option: CustomOption\r\n                                            }}\r\n                                            isClearable\r\n                                        />\r\n                                    </div>\r\n                                    <div  style={{width: '300px', paddingLeft: '10px', display: \"inline-block\"}}>\r\n                                        <Select\r\n                                            className=\"my-dropdown\"\r\n                                            value = {removeValue} \r\n                                            options={populateRemoveUsers()}\r\n                                            onChange={\r\n                                                (value) => {\r\n                                                    if(value !== undefined){\r\n                                                        setToBeDeleted(value);\r\n                                                        setShow(true);\r\n                                                        setRemoveValue(null);\r\n                                                    }\r\n                                                }\r\n                                            }\r\n                                            placeholder=\"Select character to remove...\"\r\n                                            components = {{\r\n                                                Option: CustomOption\r\n                                            }}\r\n                                            isClearable   \r\n                                        />\r\n                                    </div>\r\n                                </div>                                \r\n                            </Row>\r\n                            \r\n                            <BootstrapTable\r\n                                bootstrap4\r\n                                cellEdit={ cellEditFactory({ \r\n                                    mode: 'click',\r\n                                    blurToSave: true,\r\n                                    afterSaveCell: (oldValue, newValue, row, column) => {\r\n                                        const indexOfChar = characterData.findIndex(userChar => userChar.character_id === row.Users[0].UserCharacters.character_id);\r\n                                        if(indexOfChar !== -1){\r\n                                            characterData[indexOfChar] = row.Users[0].UserCharacters;\r\n                                        }else{\r\n                                            characterData.push(row.Users[0].UserCharacters)\r\n                                        }\r\n                                        setCharacterData(characterData);\r\n                                        setChanged(true);\r\n                                    }\r\n                                })}\r\n                                defaultSorted = {defaultSorted} \r\n                                hover condensed\r\n                                classes=\"my-table\"\r\n                                bordered= {false}\r\n                                filter={ filterFactory() }\r\n                                noDataIndication={() => (\r\n                                    loading ? <Spinner animation=\"border\" variant=\"light\" /> : <p>No Data</p>\r\n                                )}\r\n                                { ...props.baseProps } />\r\n                        </div>\r\n                    )\r\n\r\n                }\r\n                </ToolkitProvider>\r\n            </Row>\r\n            \r\n            \r\n        </Container>\r\n        <Button variant=\"primary\" className=\"position-sticky float-right save-button\" onClick={() => saveChanged()} disabled={!changed}>\r\n                        Save\r\n            </Button>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Characters;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport {addUserWeapon, getAllWeapons, getUserWeapons, updateUserWeapon, removeUserWeapon} from \"../services/WeaponService\";\r\nimport Container from 'react-bootstrap/Container';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Image from 'react-bootstrap/Image';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport { Type } from 'react-bootstrap-table2-editor';\r\nimport cellEditFactory from 'react-bootstrap-table2-editor';\r\nimport ToolkitProvider, { Search } from 'react-bootstrap-table2-toolkit';\r\nimport {FaSortUp, FaSortDown} from 'react-icons/fa';\r\nimport filterFactory, { selectFilter } from 'react-bootstrap-table2-filter';\r\nimport Select from 'react-select';\r\nimport { RiSwordFill } from 'react-icons/ri';\r\nimport { userContext } from \"../userContext\";\r\nimport \"../App.css\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport {cloneDeep} from \"lodash\";\r\nconst { SearchBar } = Search;\r\nconst set = require('set-value');\r\n\r\nfunction Weapons(){\r\n    const user = useContext(userContext);\r\n    const [weapons, setWeapons] = useState([]);\r\n    const [userWeapons, setUserWeapons] = useState([]);\r\n    const [weaponData, setWeaponData] = useState([]);\r\n    const [changed, setChanged] = useState(false);\r\n    const [show, setShow] = useState(false);\r\n    const [toBeDeleted, setToBeDeleted] = useState({});\r\n    const handleClose = () => setShow(false);\r\n    const [addValue, setAddValue] = useState();\r\n    const [removeValue, setRemoveValue] = useState();\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const selectOptions = {\r\n        0: '-',\r\n        1: '✓'\r\n    };\r\n\r\n    const editableHeader = {\r\n        backgroundColor: '#303030', \r\n        position: 'sticky', \r\n        top: '50px', \r\n        zIndex: '1', \r\n        boxShadow: 'inset 1px 0px white, 0 2px white',\r\n        height: '100px'\r\n    };\r\n\r\n    const columns = [{\r\n        dataField: `weapon_id`,\r\n        hidden: true\r\n    }, {\r\n        dataField: `name`,\r\n        text: `Weapon`,\r\n        sort: true,\r\n        sortCaret: sortingThing,\r\n        editable: false,\r\n        formatter: imageFormatter,\r\n        style: {borderRight: '1px solid white', width: '300px'},\r\n        headerStyle: {backgroundColor: '#424242', borderRight: '1px solid white', width: '300px', position: 'sticky', top: '50px', zIndex: '1', boxShadow: '1px 0px white, 0 2px white'}\r\n    },{\r\n        dataField: `Users[0].UserWeapons.level`,\r\n        text: `Level`,\r\n        sort: true,\r\n        sortCaret: sortingThing,\r\n        validator: checkLevel,\r\n        style: {backgroundColor: '#303030'},\r\n        headerStyle: editableHeader\r\n    },{\r\n        dataField: `Users[0].UserWeapons.desired_level`,\r\n        text: `Desired Level`,\r\n        sort: true,\r\n        sortCaret: sortingThing,\r\n        validator: checkDesiredLevel,\r\n        style: {backgroundColor: '#303030'},\r\n        headerStyle: editableHeader\r\n    },{\r\n        dataField: `Users[0].UserWeapons.ascended`,\r\n        text: `Ascended`,\r\n        editor: {\r\n            type: Type.CHECKBOX,\r\n            value: '1:0'\r\n        },\r\n        formatter: boolFormatter,\r\n        formatExtraData: {\r\n            0: '-',\r\n            1: '✓'\r\n        },\r\n        sort: true,\r\n        sortCaret: sortingThing,\r\n        style: {backgroundColor: '#303030'},\r\n        headerStyle: editableHeader\r\n    },{\r\n        dataField: `Users[0].UserWeapons.ascend_next_max`,\r\n        text: `Ascend On Max?`,\r\n        editor: {\r\n            type: Type.CHECKBOX,\r\n            value: '1:0'\r\n        },\r\n        formatter: boolFormatter,\r\n        formatExtraData: {\r\n            0: '-',\r\n            1: '✓'\r\n        },\r\n        sort: true,\r\n        sortCaret: sortingThing,\r\n        style: {backgroundColor: '#303030'},\r\n        headerStyle: editableHeader\r\n    },{\r\n        dataField: `Users[0].UserWeapons.managed`,\r\n        text: `Managed`,\r\n        editor: {\r\n            type: Type.CHECKBOX,\r\n            value: '1:0'\r\n        },\r\n        formatter: boolFormatter,\r\n        formatExtraData: {\r\n            0: '-',\r\n            1: '✓'\r\n        },\r\n        sort: true,\r\n        style: {backgroundColor: '#303030'},\r\n        headerStyle: editableHeader,\r\n        sortCaret: sortingThing,\r\n        filter: selectFilter({\r\n            options: selectOptions,\r\n            placeholder: 'Any',\r\n            defaultValue: 1\r\n        })\r\n    }];\r\n\r\n    const defaultSorted = [{\r\n        dataField: 'name',\r\n        order: 'asc'\r\n    }];\r\n\r\n    function sortingThing(order, column){\r\n        if (!order) return (\r\n        <span>&nbsp;&nbsp;\r\n            <div style={{display: 'inline-block'}}>\r\n                <FaSortUp />\r\n                <FaSortDown style={{ position: 'relative', right: '16px'}} />\r\n            </div>\r\n        </span>);\r\n        else if (order === 'asc') return (\r\n        <span>&nbsp;&nbsp;\r\n            <div style={{display: 'inline-block'}}>\r\n                <FaSortUp />\r\n                <FaSortDown style={{ position: 'relative', right: '16px', fill: 'gray' }} />\r\n            </div>\r\n        </span>);\r\n        else if (order === 'desc') return (\r\n        <span>&nbsp;&nbsp;\r\n            <div style={{display: 'inline-block'}}>\r\n                <FaSortUp style={{ fill: 'gray' }} />\r\n                <FaSortDown style={{ position: 'relative', right: '16px' }}/>\r\n            </div>\r\n        </span>);\r\n        return null;\r\n    }\r\n\r\n    function checkLevel(newValue, row, column){\r\n        if (isNaN(newValue)) {\r\n            return {\r\n              valid: false,\r\n              message: 'Level should be numeric'\r\n            };\r\n        }\r\n        else if (newValue > 90) {\r\n            return {\r\n                valid: false,\r\n                message: 'Level should not be higher than 90'\r\n            };\r\n        }\r\n        else if(newValue < 1){\r\n            return {\r\n                valid: false,\r\n                message: 'Level should not be lower than 1'\r\n            };\r\n        }\r\n        else if(newValue > row.Users[0].UserWeapons.desired_level){\r\n            row.Users[0].UserWeapons.desired_level = newValue;\r\n            return true;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    function checkDesiredLevel(newValue, row, column){\r\n        if (isNaN(newValue)) {\r\n            return {\r\n              valid: false,\r\n              message: 'Desired level should be numeric'\r\n            };\r\n        }\r\n        else if (newValue > 90) {\r\n            return {\r\n                valid: false,\r\n                message: 'Desired level should not be higher than 90'\r\n            };\r\n        }\r\n        else if(newValue < 1){\r\n            return {\r\n                valid: false,\r\n                message: 'Desired level should not be lower than 1'\r\n            };\r\n        }\r\n        else if(newValue < row.Users[0].UserWeapons.level){\r\n            return {\r\n                valid: false,\r\n                message: 'Desired level should be higher than level'\r\n            };\r\n        }\r\n        return true;\r\n    }\r\n\r\n    useEffect(() =>{\r\n        setLoading(true);\r\n        retrieveWeaponsInfo();\r\n        retrieveUserWeapons();\r\n        setLoading(false);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [user]);\r\n\r\n    function retrieveWeaponsInfo(){\r\n        getAllWeapons().then(response => {\r\n            setWeapons(response.data);\r\n            console.log(response.data);\r\n        }).catch(e => {\r\n            console.log(e);\r\n        });\r\n    };\r\n\r\n    function retrieveUserWeapons(){\r\n        if(user){\r\n            getUserWeapons().then(response => {\r\n                setUserWeapons(response.data);\r\n                console.log(response.data);\r\n            }).catch(e => {\r\n                console.log(e);\r\n            });\r\n        }else{\r\n            // If not signed in and no userWeapons stored locally...\r\n            var localUserWeaponData = localStorage.getItem(\"userWeapons\");\r\n            if(!localUserWeaponData){\r\n                localStorage.setItem(\"userWeapons\", JSON.stringify([]));\r\n                setUserWeapons([]);\r\n            }else{\r\n                setUserWeapons(JSON.parse(localUserWeaponData));\r\n            }\r\n        }\r\n    };\r\n\r\n    function AddUserWeapon(cid){\r\n        if(user){\r\n            const data ={\r\n                wepid: cid\r\n            };\r\n            addUserWeapon(data)\r\n            .then(response => {\r\n                console.log(response.data);\r\n                console.log(\"The user weapon was added successfully!\");\r\n                retrieveUserWeapons();\r\n            })\r\n            .catch(e => {\r\n                console.log(e);\r\n            });\r\n        }else{\r\n            const weaponIndex = weapons.findIndex((element) => {\r\n                return element.weapon_id === cid;\r\n            });\r\n            const newUserWeapon = weapons[weaponIndex];\r\n            newUserWeapon.Users = [];\r\n            newUserWeapon.Users[0]= {};\r\n            set(newUserWeapon.Users[0], 'UserWeapons.weapon_id', cid);\r\n            set(newUserWeapon.Users[0], 'UserWeapons.level', 1);\r\n            set(newUserWeapon.Users[0], 'UserWeapons.desired_level', 1);\r\n            set(newUserWeapon.Users[0], 'UserWeapons.ascended', 0);\r\n            set(newUserWeapon.Users[0], 'UserWeapons.ascend_next_max', 0);\r\n            set(newUserWeapon.Users[0], 'UserWeapons.managed', 1);\r\n            const newUserWeapons = cloneDeep(userWeapons);\r\n            newUserWeapons.push(newUserWeapon);\r\n            setUserWeapons(newUserWeapons);\r\n            localStorage.setItem(\"userWeapons\", JSON.stringify(newUserWeapons));\r\n        }\r\n    };\r\n\r\n    function UpdateUserWeapon(value){\r\n        if(user){\r\n            const data ={\r\n                weaponid: value.weapon_id,\r\n                level: value.level,\r\n                desired_level: value.desired_level,\r\n                ascended: value.ascended,\r\n                ascend_next_max: value.ascend_next_max,\r\n                managed: value.managed\r\n            };\r\n            updateUserWeapon(data)\r\n            .then(response => {\r\n                console.log(response.data);\r\n                console.log(\"The user weapon was updated successfully!\");\r\n            })\r\n            .catch(e => {\r\n                console.log(e);\r\n            });\r\n        }else{\r\n            const indexOfWeapon = userWeapons.findIndex(weapon => weapon.weapon_id === value.weapon_id);\r\n            const newUserWeapon = userWeapons[indexOfWeapon];\r\n            set(newUserWeapon.Users[0], 'UserWeapons.level', value.level);\r\n            set(newUserWeapon.Users[0], 'UserWeapons.desired_level', value.desired_level);\r\n            set(newUserWeapon.Users[0], 'UserWeapons.ascended', value.ascended);\r\n            set(newUserWeapon.Users[0], 'UserWeapons.ascend_next_max', value.ascend_next_max);\r\n            set(newUserWeapon.Users[0], 'UserWeapons.managed', value.managed);\r\n            const newUserWeapons = cloneDeep(userWeapons);\r\n            newUserWeapons[indexOfWeapon] = newUserWeapon;\r\n            setUserWeapons(newUserWeapons);\r\n            localStorage.setItem(\"userWeapons\", JSON.stringify(newUserWeapons));\r\n        }\r\n    }; \r\n\r\n    function RemoveUserWeapon(cid){\r\n        if(user){\r\n            removeUserWeapon(cid)\r\n            .then(response => {\r\n                console.log(response.data);\r\n                retrieveWeaponsInfo();\r\n                retrieveUserWeapons();\r\n                console.log(\"The user weapon was removed successfully!\");\r\n            })\r\n            .catch(e => {\r\n                console.log(e);\r\n            });\r\n        }else{\r\n            const newUserWeapons = cloneDeep(userWeapons);\r\n            newUserWeapons.splice(newUserWeapons.findIndex(weapon => weapon.weapon_id === cid), 1);\r\n            setUserWeapons(newUserWeapons);\r\n            localStorage.setItem(\"userWeapons\", JSON.stringify(newUserWeapons));\r\n        }\r\n    };\r\n\r\n    function IsWeaponNotAdded(value){\r\n        return !userWeapons.some(userWeapon => userWeapon.weapon_id === value.weapon_id);\r\n    }\r\n\r\n    function boolFormatter(cell, row, rowIndex, formatExtraData) {\r\n        return(\r\n        <span>{formatExtraData[cell]}</span>\r\n        )\r\n    }\r\n\r\n    function saveChanged(){\r\n        setChanged(false);\r\n        weaponData.forEach(UpdateUserWeapon);\r\n        setWeaponData([]);\r\n    }\r\n\r\n    function imageFormatter(cell, row, rowIndex, formatExtraData) {\r\n        return(\r\n        <span>\r\n            <Image src={'https://muni.moe/images/genshin/Weapon_'+cell.replace(/ /g, '_').replace(/'/g,'%27')+'.png'} style={{height: '64px', width: '64px', marginRight: \"10px\", display: 'inline-block', verticalAlign: 'middle'}}/>\r\n            <p style={{display: 'inline-block'}}>{cell}</p>\r\n            \r\n        </span>\r\n        )\r\n    }\r\n\r\n    function populateAddUsers(){\r\n        const newAddUsers = [];\r\n        weapons.filter(IsWeaponNotAdded).forEach((element) => {\r\n            newAddUsers.push({\r\n                value: element.weapon_id,\r\n                label: element.name,\r\n                image: 'https://muni.moe/images/genshin/Weapon_'+ element.name.replace(/ /g, '_').replace(/'/g,'%27')+'.png'\r\n            });\r\n        });\r\n        newAddUsers.sort((a, b) => {\r\n            return a.label > b.label ? 1 : b.label > a.label ? -1 : 0;\r\n        });\r\n        return newAddUsers;\r\n    }\r\n\r\n    function populateRemoveUsers(){\r\n        const newRemoveUsers = [];\r\n        userWeapons.forEach((element) => {\r\n            newRemoveUsers.push({\r\n                value: element.weapon_id,\r\n                label: element.name,\r\n                image: 'https://muni.moe/images/genshin/Weapon_'+ element.name.replace(/ /g, '_').replace(/'/g,'%27')+'.png'\r\n            });\r\n        });\r\n        newRemoveUsers.sort((a, b) => {\r\n            return a.label > b.label ? 1 : b.label > a.label ? -1 : 0;\r\n        });\r\n       return newRemoveUsers;\r\n    }\r\n\r\n    const CustomOption = props => {\r\n        const { innerProps, innerRef, isDisabled } = props;\r\n        return (!isDisabled ? (\r\n            <div ref={innerRef} {...innerProps} className=\"custom-option\"> \r\n                <img src={props.data.image} style={{height: '32px', width: '32px', marginRight: \"5px\", display: 'inline-block', verticalAlign: 'middle', padding: '2px'}} alt= {props.data.label}/>\r\n                {props.data.label}\r\n            </div>\r\n        ) : null);\r\n    }\r\n\r\n    return(\r\n        <>\r\n        <Row className=\"justify-content-md-center\" style={{paddingLeft: '10px', paddingTop: '30px'}}>\r\n            <div style={{display: 'flex', alignItems: 'center'}}>\r\n                <RiSwordFill size='64' color='white' style={{display: \"inline-block\", verticalAlign: 'middle !important', marginRight: '10px'}}/>\r\n                <h1 style={{display: \"inline-block\"}}>Weapon Roster</h1>\r\n            </div>   \r\n        </Row>\r\n        <Row className=\"justify-content-md-center\" style={{paddingLeft: '10px'}}>\r\n                <p>Click a dark cell to edit!</p>\r\n        </Row>\r\n        <Container fluid className='table-container'>\r\n            <Modal\r\n                show={show}\r\n                onHide={handleClose}\r\n                backdrop=\"static\"\r\n                keyboard={false}\r\n                aria-labelledby=\"contained-modal-title-vcenter\"\r\n                centered\r\n                size=\"lg\"\r\n            >\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title id=\"contained-modal-title-vcenter\">\r\n                        Deleting Weapon\r\n                    </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    Are you sure you want to remove {toBeDeleted ? toBeDeleted.label : ''} from your roster?\r\n                    <br></br>Doing so will wipe all data relating to it!<br></br>\r\n                    <b>TIP: If you set a weapon to not managed, it won't show up by default.</b>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={handleClose}>\r\n                    Nevermind\r\n                </Button>\r\n                <Button variant=\"primary\" onClick={() => {\r\n                    handleClose();\r\n                    RemoveUserWeapon(toBeDeleted.weapon_id);\r\n                }             \r\n                    }>\r\n                    Yes\r\n                </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n            \r\n            <Row className=\"justify-content-md-center\">\r\n                <ToolkitProvider\r\n                    keyField=\"weapon_id\"\r\n                    data={ userWeapons }\r\n                    columns={ columns }\r\n                    search\r\n                >{\r\n                    props => (\r\n                        <div>\r\n                            <Row className=\"justify-content-md-between\" style={{paddingLeft: '30px', paddingRight: '30px'}}>\r\n                            <div style={{width: '300px', display: \"inline-block\"}} >\r\n                                <SearchBar { ...props.searchProps } className=\"searchBar\"/>\r\n                            </div>\r\n                            <div>\r\n                                <div style={{width: '300px', display: \"inline-block\"}}>\r\n                                    <Select \r\n                                        className=\"my-dropdown\"\r\n                                        value = {addValue}\r\n                                        options={populateAddUsers()} \r\n                                        onChange={\r\n                                            (value) => {\r\n                                                AddUserWeapon(value.value);\r\n                                                setAddValue(null);\r\n                                            }\r\n                                        }\r\n                                        placeholder=\"Select weapon to add...\"\r\n                                        components = {{\r\n                                            Option: CustomOption\r\n                                        }}\r\n                                        isClearable\r\n                                    />\r\n                                </div>\r\n                                <div  style={{width: '300px', paddingLeft: '10px', display: \"inline-block\"}}>\r\n                                    <Select\r\n                                        className=\"my-dropdown\"\r\n                                        value = {removeValue} \r\n                                        options={populateRemoveUsers()}\r\n                                        onChange={\r\n                                            (value) => {\r\n                                                if(value !== undefined){\r\n                                                    setToBeDeleted(value);\r\n                                                    setShow(true);\r\n                                                    setRemoveValue(null);\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                        placeholder=\"Select weapon to remove...\"\r\n                                        components = {{\r\n                                            Option: CustomOption\r\n                                        }}\r\n                                        isClearable   \r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            </Row>\r\n                            <BootstrapTable\r\n                                bootstrap4 \r\n                                cellEdit={ cellEditFactory({ \r\n                                    mode: 'click',\r\n                                    blurToSave: true,\r\n                                    afterSaveCell: (oldValue, newValue, row, column) => {\r\n                                        var indexOfWeapon = weaponData.findIndex(userWeapon => userWeapon.weapon_id === row.Users[0].UserWeapons.weapon_id);\r\n                                        if(indexOfWeapon !== -1){\r\n                                            weaponData[indexOfWeapon] = row.Users[0].UserWeapons;\r\n                                        }else{\r\n                                            weaponData.push(row.Users[0].UserWeapons)\r\n                                        }\r\n                                        setWeaponData(weaponData);\r\n                                        setChanged(true);\r\n                                    }\r\n                                })}\r\n                                defaultSorted = {defaultSorted} \r\n                                hover condensed\r\n                                classes=\"my-table\"\r\n                                bordered= {false}\r\n                                filter={ filterFactory() }\r\n                                noDataIndication={() => (\r\n                                    loading ? <Spinner animation=\"border\" variant=\"light\" /> : <p>No Data</p>\r\n                                )}\r\n                                { ...props.baseProps } />\r\n                        </div>\r\n                    )\r\n\r\n                }\r\n                </ToolkitProvider>\r\n            </Row>\r\n            \r\n        </Container>\r\n        <Button variant=\"primary\" className=\"position-sticky float-right save-button\" onClick={() => saveChanged()} disabled={!changed}>\r\n                        Save\r\n            </Button>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Weapons;\r\n","import {getUserCharacters} from \"../services/CharacterService\";\r\nimport {getUserWeapons} from \"../services/WeaponService\";\r\nimport {getUserItems} from \"../services/ItemService\";\r\n\r\nconst xpToNextLevel = [\r\n    0,\r\n    1000,\r\n    1325,\r\n    1700,\r\n    2150,\r\n    2625,\r\n    3150,\r\n    3725,\r\n    4350,\r\n    5000,\r\n    5700,\r\n    6450,\r\n    7225,\r\n    8050,\r\n    8925,\r\n    9825,\r\n    10750,\r\n    11725,\r\n    12725,\r\n    13775,\r\n    14875,\r\n    16800,\r\n    18000,\r\n    19250,\r\n    20550,\r\n    21875,\r\n    23250,\r\n    24650,\r\n    26100,\r\n    27575,\r\n    29100,\r\n    30650,\r\n    32250,\r\n    33875,\r\n    35550,\r\n    37250,\r\n    38975,\r\n    40750,\r\n    42575,\r\n    44425,\r\n    46300,\r\n    50625,\r\n    52700,\r\n    54775,\r\n    56900,\r\n    59075,\r\n    61275,\r\n    63525,\r\n    65800,\r\n    68125,\r\n    70475,\r\n    76500,\r\n    79050,\r\n    81650,\r\n    84275,\r\n    86950,\r\n    89650,\r\n    92400,\r\n    95175,\r\n    98000,\r\n    100875,\r\n    108950,\r\n    112050,\r\n    115175,\r\n    118325,\r\n    121525,\r\n    124775,\r\n    128075,\r\n    131400,\r\n    134775,\r\n    138175,\r\n    148700,\r\n    152375,\r\n    156075,\r\n    159825,\r\n    163600,\r\n    167425,\r\n    171300,\r\n    175225,\r\n    179175,\r\n    183175,\r\n    216225,\r\n    243025,\r\n    273100,\r\n    306800,\r\n    344600,\r\n    386950,\r\n    434425,\r\n    487625,\r\n    547200\r\n];\r\n\r\nconst xpToLevelWeaponRarity3 = [\r\n    0,\r\n    275,\r\n    425,\r\n    600,\r\n    800,\r\n    1025,\r\n    1275,\r\n    1550,\r\n    1850,\r\n    2175,\r\n    2500,\r\n    2875,\r\n    3250,\r\n    3650,\r\n    4050,\r\n    4500,\r\n    4950,\r\n    5400,\r\n    5900,\r\n    6425,\r\n    6925,\r\n    7850,\r\n    8425,\r\n    9050,\r\n    9675,\r\n    10325,\r\n    10975,\r\n    11650,\r\n    12350,\r\n    13050,\r\n    13800,\r\n    14525,\r\n    15300,\r\n    16100,\r\n    16900,\r\n    17700,\r\n    18550,\r\n    19400,\r\n    20275,\r\n    21175,\r\n    22050,\r\n    24150,\r\n    25125,\r\n    26125,\r\n    27150,\r\n    28200,\r\n    29250,\r\n    30325,\r\n    31425,\r\n    32550,\r\n    33650,\r\n    36550,\r\n    37775,\r\n    39000,\r\n    40275,\r\n    41550,\r\n    42850,\r\n    44150,\r\n    45500,\r\n    46850,\r\n    48225,\r\n    52075,\r\n    53550,\r\n    55050,\r\n    56550,\r\n    58100,\r\n    59650,\r\n    61225,\r\n    62800,\r\n    64400,\r\n    66025,\r\n    71075,\r\n    72825,\r\n    74575,\r\n    76350,\r\n    78150,\r\n    80000,\r\n    81850,\r\n    83700,\r\n    85575\r\n];\r\n\r\nconst xpToLevelWeaponRarity4 = [\r\n    400,\r\n    625,\r\n    900,\r\n    1200,\r\n    1550,\r\n    1950,\r\n    2350,\r\n    2800,\r\n    3300,\r\n    3800,\r\n    4350,\r\n    4925,\r\n    5525,\r\n    6150,\r\n    6800,\r\n    7500,\r\n    8200,\r\n    8950,\r\n    9725,\r\n    10500,\r\n    11900,\r\n    12775,\r\n    13700,\r\n    14650,\r\n    15625,\r\n    16625,\r\n    17650,\r\n    18700,\r\n    19775,\r\n    20900,\r\n    22025,\r\n    23200,\r\n    24375,\r\n    25600,\r\n    26825,\r\n    28100,\r\n    29400,\r\n    30725,\r\n    32075,\r\n    33425,\r\n    36575,\r\n    38075,\r\n    39600,\r\n    41150,\r\n    42725,\r\n    44325,\r\n    45950,\r\n    47600,\r\n    49300,\r\n    51000,\r\n    55375,\r\n    57225,\r\n    59100,\r\n    61025,\r\n    62950,\r\n    64925,\r\n    66900,\r\n    68925,\r\n    70975,\r\n    73050,\r\n    78900,\r\n    81125,\r\n    83400,\r\n    85700,\r\n    88025,\r\n    90375,\r\n    92750,\r\n    95150,\r\n    97575,\r\n    100050,\r\n    107675,\r\n    110325,\r\n    113000,\r\n    115700,\r\n    118425,\r\n    121200,\r\n    124000,\r\n    126825,\r\n    129675\r\n];\r\n\r\nconst xpToLevelWeaponRarity5 = [\r\n    0,\r\n    600,\r\n    950,\r\n    1350,\r\n    1800,\r\n    2325,\r\n    2925,\r\n    3525,\r\n    4200,\r\n    4950,\r\n    5700,\r\n    6525,\r\n    7400,\r\n    8300,\r\n    9225,\r\n    10200,\r\n    11250,\r\n    12300,\r\n    13425,\r\n    14600,\r\n    15750,\r\n    17850,\r\n    19175,\r\n    20550,\r\n    21975,\r\n    23450,\r\n    24950,\r\n    26475,\r\n    28050,\r\n    29675,\r\n    31350,\r\n    33050,\r\n    34800,\r\n    36575,\r\n    38400,\r\n    40250,\r\n    42150,\r\n    44100,\r\n    46100,\r\n    48125,\r\n    50150,\r\n    54875,\r\n    57125,\r\n    59400,\r\n    61725,\r\n    64100,\r\n    66500,\r\n    68925,\r\n    71400,\r\n    73950,\r\n    76500,\r\n    83075,\r\n    85850,\r\n    88650,\r\n    91550,\r\n    94425,\r\n    97400,\r\n    100350,\r\n    103400,\r\n    106475,\r\n    109575,\r\n    118350,\r\n    121700,\r\n    125100,\r\n    128550,\r\n    132050,\r\n    135575,\r\n    139125,\r\n    142725,\r\n    146375,\r\n    150075,\r\n    161525,\r\n    165500,\r\n    169500,\r\n    173550,\r\n    177650,\r\n    181800,\r\n    186000,\r\n    190250,\r\n    194525,\r\n    198875,\r\n    234725,\r\n    263825,\r\n    296400,\r\n    332975,\r\n    373950,\r\n    419925,\r\n    471375,\r\n    529050,\r\n    593675\r\n];\r\n\r\nexport async function getNeededItemsCharacters(user){\r\n        var userCharResponse = {};\r\n        var userItemResponse = {};\r\n        if(user){\r\n            // Get user characters...\r\n            userCharResponse = await getUserCharacters();\r\n            // Get user items...\r\n            userItemResponse = await getUserItems();\r\n        }else{\r\n            userCharResponse.data = JSON.parse(localStorage.getItem(\"userCharacters\"));\r\n            userItemResponse.data = JSON.parse(localStorage.getItem(\"userItems\"));\r\n            userCharResponse.data = userCharResponse.data ? userCharResponse.data : [];\r\n            userItemResponse.data = userItemResponse.data ? userItemResponse.data : [];\r\n        }\r\n        \r\n        // Do calculations\r\n        var neededItems= [];\r\n        if(userItemResponse){\r\n            userCharResponse.data.forEach(character => {\r\n                var level = Number(character.Users[0].UserCharacters.level);\r\n                var desired_level = Number(character.Users[0].UserCharacters.desired_level);\r\n                var normal_atk_level= Number(character.Users[0].UserCharacters.normal_atk_level);\r\n                var normal_atk_desired_level= Number(character.Users[0].UserCharacters.normal_atk_desired_level);\r\n                var q_atk_level= Number(character.Users[0].UserCharacters.q_atk_level);\r\n                var q_atk_desired_level= Number(character.Users[0].UserCharacters.q_atk_desired_level);\r\n                var e_atk_level= Number(character.Users[0].UserCharacters.e_atk_level);\r\n                var e_atk_desired_level= Number(character.Users[0].UserCharacters.e_atk_desired_level);\r\n                var managed = character.Users[0].UserCharacters.managed;\r\n                var ascended = character.Users[0].UserCharacters.ascended;\r\n                var ascend_next_max = character.Users[0].UserCharacters.ascend_next_max;\r\n                if(managed === 1){\r\n                    const characteritems={\r\n                        name: character.name,\r\n                        element: character.element,\r\n                        rarity: character.rarity,\r\n                        crystal: {\r\n                            type: character.asc_item_group,\r\n                            item_rarity2: findItemFromItemGroup(userItemResponse.data, character.asc_item_group, 2).name,\r\n                            item_rarity3: findItemFromItemGroup(userItemResponse.data, character.asc_item_group, 3).name,\r\n                            item_rarity4: findItemFromItemGroup(userItemResponse.data, character.asc_item_group, 4).name,\r\n                            item_rarity5: findItemFromItemGroup(userItemResponse.data, character.asc_item_group, 5).name,\r\n                            rarity2: 0,\r\n                            rarity3: 0,\r\n                            rarity4: 0,\r\n                            rarity5: 0\r\n                        },\r\n                        boss: {\r\n                            item: character.asc_item_group1,\r\n                            amount : 0\r\n                        },\r\n                        specialty: {\r\n                            item: character.asc_item_specialty,\r\n                            amount: 0\r\n                        },\r\n                        common: {\r\n                            type: character.asc_item_common,\r\n                            item_rarity1: findItemFromItemGroup(userItemResponse.data, character.asc_item_common, 1).name,\r\n                            item_rarity2: findItemFromItemGroup(userItemResponse.data, character.asc_item_common, 2).name,\r\n                            item_rarity3: findItemFromItemGroup(userItemResponse.data, character.asc_item_common, 3).name,\r\n                            rarity1: 0,\r\n                            rarity2: 0,\r\n                            rarity3: 0\r\n                        },\r\n                        talent: {\r\n                            type: character.item_talent_common,\r\n                            item_rarity2: findItemFromItemGroup(userItemResponse.data, character.item_talent, 2).name,\r\n                            item_rarity3: findItemFromItemGroup(userItemResponse.data, character.item_talent, 3).name,\r\n                            item_rarity4: findItemFromItemGroup(userItemResponse.data, character.item_talent, 4).name,\r\n                            rarity2: 0,\r\n                            rarity3: 0,\r\n                            rarity4: 0,\r\n                            common_rarity1: 0,\r\n                            common_rarity2: 0,\r\n                            common_rarity3: 0\r\n                        },\r\n                        weeklyBoss: {\r\n                            item: character.item_talent_boss,\r\n                            amount: 0\r\n                        },\r\n                        xp: {\r\n                            total: 0,\r\n                            heroswit: 0,\r\n                            adventurers: 0,\r\n                            wanderers: 0,\r\n                            extra: 0\r\n                        },\r\n                        mora: {\r\n                            total: 0,\r\n                            ascension: 0,\r\n                            leveling: 0,\r\n                            talents: 0\r\n                        }\r\n                    }\r\n                    \r\n                    // Calculate required ascension materials\r\n                    if((desired_level > 20 && level < 20)\r\n                    || (desired_level === 20 && level < 20 && ascend_next_max)\r\n                    || (level===20 && ascended !== 1 && ascend_next_max)){\r\n                        // Need 1x rarity 2 crystal\r\n                        characteritems.crystal.rarity2+=1;\r\n                        // Need 3x specialty\r\n                        characteritems.specialty.amount+=3;\r\n                        // Need 3x rarity 1 common\r\n                        characteritems.common.rarity1+=3;\r\n                        // Mora\r\n                        characteritems.mora.ascension+= 20000;\r\n                    }\r\n\r\n                    if((desired_level > 40 && level < 40)\r\n                    || (desired_level === 40 && level < 40 && ascend_next_max)\r\n                    || (level===40 && ascended !== 1 && ascend_next_max)){\r\n                        // Need 3x rarity 3 crystal\r\n                        characteritems.crystal.rarity3+=3;\r\n                        // Need 10x specialty\r\n                        characteritems.specialty.amount+=10;\r\n                        // Need 15x rarity 1 common\r\n                        characteritems.common.rarity1+=15;\r\n                        // Need 2 boss item\r\n                        characteritems.boss.amount+=2;\r\n                        // Mora\r\n                        characteritems.mora.ascension+= 40000;\r\n                    }\r\n\r\n                    if((desired_level > 50 && level < 50)\r\n                    || (desired_level === 50 && level < 50 && ascend_next_max)\r\n                    || (level===50 && ascended !== 1 && ascend_next_max)){\r\n                        // Need 6x rarity 3 crystal\r\n                        characteritems.crystal.rarity3+=6;\r\n                        // Need 20x specialty\r\n                        characteritems.specialty.amount+=20;\r\n                        // Need 12x rarity 2 common\r\n                        characteritems.common.rarity2+=12;\r\n                        // Need 4 boss item\r\n                        characteritems.boss.amount+=4;\r\n                        // Mora\r\n                        characteritems.mora.ascension+= 60000;\r\n                    }\r\n\r\n                    if((desired_level > 60 && level < 60)\r\n                    || (desired_level === 60 && level < 60 && ascend_next_max)\r\n                    || (level===60 && ascended !== 1 && ascend_next_max)){\r\n                        // Need 3x rarity 4 crystal\r\n                        characteritems.crystal.rarity4+=3;\r\n                        // Need 30x specialty\r\n                        characteritems.specialty.amount+=30;\r\n                        // Need 18x rarity 2 common\r\n                        characteritems.common.rarity2+=18;\r\n                        // Need 8 boss item\r\n                        characteritems.boss.amount+=8;\r\n                        // Mora\r\n                        characteritems.mora.ascension+= 80000;\r\n                    }\r\n\r\n                    if((desired_level > 70 && level < 70)\r\n                    || (desired_level === 70 && level < 70 && ascend_next_max)\r\n                    || (level===70 && ascended !== 1 && ascend_next_max)){\r\n                        // Need 6x rarity 4 crystal\r\n                        characteritems.crystal.rarity4+=6;\r\n                        // Need 45x specialty\r\n                        characteritems.specialty.amount+=45;\r\n                        // Need 12x rarity 3 common\r\n                        characteritems.common.rarity3+=12;\r\n                        // Need 12 boss item\r\n                        characteritems.boss.amount+=12;\r\n                        // Mora\r\n                        characteritems.mora.ascension+= 100000;\r\n                    }\r\n\r\n                    if((desired_level > 80 && level < 80)\r\n                    || (desired_level === 80 && level < 80 && ascend_next_max)\r\n                    || (level===80 && ascended !== 1 && ascend_next_max)){\r\n                        // Need 6x rarity 5 crystal\r\n                        characteritems.crystal.rarity5+=6;\r\n                        // Need 60x specialty\r\n                        characteritems.specialty.amount+=60;\r\n                        // Need 24x rarity 3 common\r\n                        characteritems.common.rarity3+=24;\r\n                        // Need 20 boss item\r\n                        characteritems.boss.amount+=20;\r\n                        // Mora\r\n                        characteritems.mora.ascension+= 120000;\r\n                    }\r\n\r\n                    // Calculate required talent materials\r\n                    if(normal_atk_desired_level >= 2 &&\r\n                        (!(normal_atk_level >= 2))){\r\n                        characteritems.talent.rarity2+=3;\r\n                        characteritems.talent.common_rarity1+=6;\r\n                        characteritems.mora.talents+=12500;\r\n                    }\r\n\r\n                    if(normal_atk_desired_level >= 3 &&\r\n                        (!(normal_atk_level >= 3))){\r\n                        characteritems.talent.rarity3+=2;\r\n                        characteritems.talent.common_rarity2+=3;\r\n                        characteritems.mora.talents+=17500;\r\n                    }\r\n                    \r\n                    if(normal_atk_desired_level >= 4 &&\r\n                        (!(normal_atk_level >= 4))){\r\n                        characteritems.talent.rarity3+=4;\r\n                        characteritems.talent.common_rarity2+=4;\r\n                        characteritems.mora.talents+=25000;\r\n                    }\r\n\r\n                    if(normal_atk_desired_level >= 5 &&\r\n                        (!(normal_atk_level >= 5))){\r\n                        characteritems.talent.rarity3+=6;\r\n                        characteritems.talent.common_rarity2+=6;\r\n                        characteritems.mora.talents+=30000;\r\n                    }\r\n\r\n                    if(normal_atk_desired_level >= 6 &&\r\n                        (!(normal_atk_level >= 6))){\r\n                        characteritems.talent.rarity3+=9;\r\n                        characteritems.talent.common_rarity2+=9;\r\n                        characteritems.mora.talents+=37500;\r\n                    }\r\n\r\n                    if(normal_atk_desired_level >= 7 &&\r\n                        (!(normal_atk_level >= 7))){\r\n                        characteritems.talent.rarity4+=4;\r\n                        characteritems.talent.common_rarity3+=4;\r\n                        characteritems.weeklyBoss+=1;\r\n                        characteritems.mora.talents+=120000;\r\n                    }\r\n\r\n                    if(normal_atk_desired_level >= 8 &&\r\n                        (!(normal_atk_level >= 8))){\r\n                        characteritems.talent.rarity4+=6;\r\n                        characteritems.talent.common_rarity3+=6;\r\n                        characteritems.weeklyBoss+=1;\r\n                        characteritems.mora.talents+=260000;\r\n                    }\r\n\r\n                    if(normal_atk_desired_level >= 9 &&\r\n                        (!(normal_atk_level >= 9))){\r\n                        characteritems.talent.rarity4+=12;\r\n                        characteritems.talent.common_rarity3+=9;\r\n                        characteritems.weeklyBoss+=1;\r\n                        characteritems.mora.talents+=450000;\r\n                    }\r\n\r\n                    if(normal_atk_desired_level >= 10 &&\r\n                        (!(normal_atk_level >= 10))){\r\n                        characteritems.talent.rarity4+=16;\r\n                        characteritems.talent.common_rarity3+=12;\r\n                        characteritems.weeklyBoss+=1;\r\n                        characteritems.mora.talents+=700000;\r\n                    }\r\n\r\n                    // Calculate required Q talent materials\r\n                    if(q_atk_desired_level >= 2 &&\r\n                        (!(q_atk_level >= 2))){\r\n                        characteritems.talent.rarity2+=3;\r\n                        characteritems.talent.common_rarity1+=6;\r\n                        characteritems.mora.talents+=12500;\r\n                    }\r\n\r\n                    if(q_atk_desired_level >= 3 &&\r\n                        (!(q_atk_level >= 3))){\r\n                        characteritems.talent.rarity3+=2;\r\n                        characteritems.talent.common_rarity2+=3;\r\n                        characteritems.mora.talents+=17500;\r\n                    }\r\n                    \r\n                    if(q_atk_desired_level >= 4 &&\r\n                        (!(q_atk_level >= 4))){\r\n                        characteritems.talent.rarity3+=4;\r\n                        characteritems.talent.common_rarity2+=4;\r\n                        characteritems.mora.talents+=25000;\r\n                    }\r\n\r\n                    if(q_atk_desired_level >= 5 &&\r\n                        (!(q_atk_level >= 5))){\r\n                        characteritems.talent.rarity3+=6;\r\n                        characteritems.talent.common_rarity2+=6;\r\n                        characteritems.mora.talents+=30000;\r\n                    }\r\n\r\n                    if(q_atk_desired_level >= 6 &&\r\n                        (!(q_atk_level >= 6))){\r\n                        characteritems.talent.rarity3+=9;\r\n                        characteritems.talent.common_rarity2+=9;\r\n                        characteritems.mora.talents+=37500;\r\n                    }\r\n\r\n                    if(q_atk_desired_level >= 7 &&\r\n                        (!(q_atk_level >= 7))){\r\n                        characteritems.talent.rarity4+=4;\r\n                        characteritems.talent.common_rarity3+=4;\r\n                        characteritems.weeklyBoss+=1;\r\n                        characteritems.mora.talents+=120000;\r\n                    }\r\n\r\n                    if(q_atk_desired_level >= 8 &&\r\n                        (!(q_atk_level >= 8))){\r\n                        characteritems.talent.rarity4+=6;\r\n                        characteritems.talent.common_rarity3+=6;\r\n                        characteritems.weeklyBoss+=1;\r\n                        characteritems.mora.talents+=260000;\r\n                    }\r\n\r\n                    if(q_atk_desired_level >= 9 &&\r\n                        (!(q_atk_level >= 9))){\r\n                        characteritems.talent.rarity4+=12;\r\n                        characteritems.talent.common_rarity3+=9;\r\n                        characteritems.weeklyBoss+=1;\r\n                        characteritems.mora.talents+=450000;\r\n                    }\r\n\r\n                    if(q_atk_desired_level >= 10 &&\r\n                        (!(q_atk_level >= 10))){\r\n                        characteritems.talent.rarity4+=16;\r\n                        characteritems.talent.common_rarity3+=12;\r\n                        characteritems.weeklyBoss+=1;\r\n                        characteritems.mora.talents+=700000;\r\n                    }\r\n\r\n                    // Calculate required talent materials\r\n                    if(e_atk_desired_level >= 2 &&\r\n                        (!(e_atk_level >= 2))){\r\n                        characteritems.talent.rarity2+=3;\r\n                        characteritems.talent.common_rarity1+=6;\r\n                        characteritems.mora.talents+=12500;\r\n                    }\r\n\r\n                    if(e_atk_desired_level >= 3 &&\r\n                        (!(e_atk_level >= 3))){\r\n                        characteritems.talent.rarity3+=2;\r\n                        characteritems.talent.common_rarity2+=3;\r\n                        characteritems.mora.talents+=17500;\r\n                    }\r\n                    \r\n                    if(e_atk_desired_level >= 4 &&\r\n                        (!(e_atk_level >= 4))){\r\n                        characteritems.talent.rarity3+=4;\r\n                        characteritems.talent.common_rarity2+=4;\r\n                        characteritems.mora.talents+=25000;\r\n                    }\r\n\r\n                    if(e_atk_desired_level >= 5 &&\r\n                        (!(e_atk_level >= 5))){\r\n                        characteritems.talent.rarity3+=6;\r\n                        characteritems.talent.common_rarity2+=6;\r\n                        characteritems.mora.talents+=30000;\r\n                    }\r\n\r\n                    if(e_atk_desired_level >= 6 &&\r\n                        (!(e_atk_level >= 6))){\r\n                        characteritems.talent.rarity3+=9;\r\n                        characteritems.talent.common_rarity2+=9;\r\n                        characteritems.mora.talents+=37500;\r\n                    }\r\n\r\n                    if(e_atk_desired_level >= 7 &&\r\n                        (!(e_atk_level >= 7))){\r\n                        characteritems.talent.rarity4+=4;\r\n                        characteritems.talent.common_rarity3+=4;\r\n                        characteritems.weeklyBoss+=1;\r\n                        characteritems.mora.talents+=120000;\r\n                    }\r\n\r\n                    if(e_atk_desired_level >= 8 &&\r\n                        (!(e_atk_level >= 8))){\r\n                        characteritems.talent.rarity4+=6;\r\n                        characteritems.talent.common_rarity3+=6;\r\n                        characteritems.weeklyBoss+=1;\r\n                        characteritems.mora.talents+=260000;\r\n                    }\r\n\r\n                    if(e_atk_desired_level >= 9 &&\r\n                        (!(e_atk_level >= 9))){\r\n                        characteritems.talent.rarity4+=12;\r\n                        characteritems.talent.common_rarity3+=9;\r\n                        characteritems.weeklyBoss+=1;\r\n                        characteritems.mora.talents+=450000;\r\n                    }\r\n\r\n                    if(e_atk_desired_level >= 10 &&\r\n                        (!(e_atk_level >= 10))){\r\n                        characteritems.talent.rarity4+=16;\r\n                        characteritems.talent.common_rarity3+=12;\r\n                        characteritems.weeklyBoss+=1;\r\n                        characteritems.mora.talents+=700000;\r\n                    }\r\n                    // higher than 8 unknown???????\r\n\r\n                    // Calculate number of EXP books needed                   \r\n                    xpToNextLevel.forEach((value, index) => {\r\n                        if(index >= level && index < desired_level){\r\n                            characteritems.xp.total+=value;\r\n                        }\r\n                    })\r\n\r\n                    characteritems.xp.heroswit = Math.floor(characteritems.xp.total / 20000);\r\n                    characteritems.xp.adventurers = Math.floor((characteritems.xp.total - (characteritems.xp.heroswit * 20000)) / 5000);\r\n                    characteritems.xp.wanderers = Math.floor((characteritems.xp.total - (characteritems.xp.heroswit * 20000) - (characteritems.xp.adventurers * 5000)) / 1000);\r\n                    characteritems.xp.extra = Math.floor((characteritems.xp.total - (characteritems.xp.heroswit * 20000) \r\n                        - (characteritems.xp.adventurers * 5000) - (characteritems.xp.wanderers * 1000)));\r\n\r\n                    // Calculate mora\r\n                    characteritems.mora.leveling = ((characteritems.xp.heroswit * 20000) + (characteritems.xp.adventurers * 5000) + (characteritems.xp.wanderers * 1000))/5;\r\n                    characteritems.mora.total = characteritems.mora.talents + characteritems.mora.ascension + characteritems.mora.leveling;\r\n\r\n                    neededItems.push(characteritems);\r\n                }\r\n            })\r\n        }\r\n        return(neededItems);\r\n}\r\n\r\nexport async function getNeededItemsWeapons(user){\r\n        var userWeaponResponse = {};\r\n        var userItemResponse = {};\r\n        if(user){\r\n            // Get user characters...\r\n            userWeaponResponse = await getUserWeapons();\r\n            // Get user items...\r\n            userItemResponse = await getUserItems();\r\n        }else{\r\n            userWeaponResponse.data = JSON.parse(localStorage.getItem(\"userWeapons\"));\r\n            userItemResponse.data = JSON.parse(localStorage.getItem(\"userItems\"));\r\n            userWeaponResponse.data = userWeaponResponse.data ? userWeaponResponse.data : [];\r\n            userItemResponse.data = userItemResponse.data ? userItemResponse.data : [];\r\n        }\r\n        // Do calculations\r\n        var neededItems = [];\r\n        if(userItemResponse){\r\n            userWeaponResponse.data.forEach(weapon => {\r\n                var level = Number(weapon.Users[0].UserWeapons.level);\r\n                var desired_level = Number(weapon.Users[0].UserWeapons.desired_level);\r\n                var managed = weapon.Users[0].UserWeapons.managed;\r\n                var ascended = weapon.Users[0].UserWeapons.ascended;\r\n                var ascend_next_max = weapon.Users[0].UserWeapons.ascend_next_max;\r\n                var rarity = Number(weapon.rarity);\r\n                \r\n                if(managed === 1){\r\n                    const weaponitems={\r\n                        name: weapon.name,\r\n                        type: weapon.weapon_type,\r\n                        rarity: weapon.rarity,\r\n                        domain: {\r\n                            type: weapon.asc_item_group,\r\n                            item_rarity2: findItemFromItemGroup(userItemResponse.data, weapon.asc_item_group, 2).name,\r\n                            item_rarity3: findItemFromItemGroup(userItemResponse.data, weapon.asc_item_group, 3).name,\r\n                            item_rarity4: findItemFromItemGroup(userItemResponse.data, weapon.asc_item_group, 4).name,\r\n                            item_rarity5: findItemFromItemGroup(userItemResponse.data, weapon.asc_item_group, 5).name,\r\n                            rarity2: 0,\r\n                            rarity3: 0,\r\n                            rarity4: 0,\r\n                            rarity5: 0\r\n                        },\r\n                        common1: {\r\n                            type: weapon.asc_item_group1,\r\n                            item_rarity2: findItemFromItemGroup(userItemResponse.data, weapon.asc_item_group1, 2).name,\r\n                            item_rarity3: findItemFromItemGroup(userItemResponse.data, weapon.asc_item_group1, 3).name,\r\n                            item_rarity4: findItemFromItemGroup(userItemResponse.data, weapon.asc_item_group1, 4).name,\r\n                            rarity2: 0,\r\n                            rarity3: 0,\r\n                            rarity4: 0\r\n                        },\r\n                        common2: {\r\n                            type: weapon.asc_item_group2,\r\n                            item_rarity1: findItemFromItemGroup(userItemResponse.data, weapon.asc_item_group2, 1).name,\r\n                            item_rarity2: findItemFromItemGroup(userItemResponse.data, weapon.asc_item_group2, 2).name,\r\n                            item_rarity3: findItemFromItemGroup(userItemResponse.data, weapon.asc_item_group2, 3).name,\r\n                            rarity1: 0,\r\n                            rarity2: 0,\r\n                            rarity3: 0\r\n                        },\r\n                        xp: {\r\n                            total: 0,\r\n                            mystic: 0,\r\n                            fine: 0,\r\n                            regular: 0,\r\n                            wasted: 0\r\n                        },\r\n                        mora: {\r\n                            total: 0,\r\n                            ascension: 0,\r\n                            leveling: 0\r\n                        }\r\n                    }\r\n\r\n                    // Calculate required ascension materials\r\n\r\n                    if(rarity === 5){\r\n                        if((desired_level > 20 && level < 20)\r\n                    || (desired_level === 20 && level < 20 && ascend_next_max)\r\n                    || (level===20 && ascended !== 1 && ascend_next_max)){\r\n                            weaponitems.domain.rarity2+=5;\r\n                            weaponitems.common1.rarity2+=5;\r\n                            weaponitems.common2.rarity1+=3;\r\n                            weaponitems.mora.ascension+= 10000;\r\n                        }\r\n        \r\n                        if((desired_level > 40 && level < 40)\r\n                    || (desired_level === 40 && level < 40 && ascend_next_max)\r\n                    || (level===40 && ascended !== 1 && ascend_next_max)){\r\n                            weaponitems.domain.rarity3+=5;\r\n                            weaponitems.common1.rarity2+=18;\r\n                            weaponitems.common2.rarity1+=12;\r\n                            weaponitems.mora.ascension+= 20000;\r\n                        }\r\n        \r\n                        if((desired_level > 50 && level < 50)\r\n                    || (desired_level === 50 && level < 50 && ascend_next_max)\r\n                    || (level===50 && ascended !== 1 && ascend_next_max)){\r\n                            weaponitems.domain.rarity3+=9;\r\n                            weaponitems.common1.rarity3+=9;\r\n                            weaponitems.common2.rarity2+=9;\r\n                            weaponitems.mora.ascension+= 30000;\r\n                        }\r\n        \r\n                        if((desired_level > 60 && level < 60)\r\n                    || (desired_level === 60 && level < 60 && ascend_next_max)\r\n                    || (level===60 && ascended !== 1 && ascend_next_max)){\r\n                            weaponitems.domain.rarity4+=5;\r\n                            weaponitems.common1.rarity3+=18;\r\n                            weaponitems.common2.rarity2+=14;\r\n                            weaponitems.mora.ascension+= 45000;\r\n                        }\r\n        \r\n                        if((desired_level > 70 && level < 70)\r\n                    || (desired_level === 70 && level < 70 && ascend_next_max)\r\n                    || (level===70 && ascended !== 1 && ascend_next_max)){\r\n                            weaponitems.domain.rarity4+=9;\r\n                            weaponitems.common1.rarity4+=14;\r\n                            weaponitems.common2.rarity3+=9;\r\n                            weaponitems.mora.ascension+= 55000;\r\n                        }\r\n        \r\n                        if((desired_level > 80 && level < 80)\r\n                    || (desired_level === 80 && level < 80 && ascend_next_max)\r\n                    || (level===80 && ascended !== 1 && ascend_next_max)){\r\n                            weaponitems.domain.rarity5+=6;\r\n                            weaponitems.common1.rarity4+=27;\r\n                            weaponitems.common2.rarity3+=18;\r\n                            weaponitems.mora.ascension+= 65000;\r\n                        }\r\n                    }else if(rarity === 4){\r\n                        if((desired_level > 20 && level < 20)\r\n                    || (desired_level === 20 && level < 20 && ascend_next_max)\r\n                    || (level===20 && ascended !== 1 && ascend_next_max)){\r\n                            weaponitems.domain.rarity2+=3;\r\n                            weaponitems.common1.rarity2+=3;\r\n                            weaponitems.common2.rarity1+=2;\r\n                            weaponitems.mora.ascension+= 5000;\r\n                        }\r\n        \r\n                        if((desired_level > 40 && level < 40)\r\n                    || (desired_level === 40 && level < 40 && ascend_next_max)\r\n                    || (level===40 && ascended !== 1 && ascend_next_max)){\r\n                            weaponitems.domain.rarity3+=3;\r\n                            weaponitems.common1.rarity2+=12;\r\n                            weaponitems.common2.rarity1+=8;\r\n                            weaponitems.mora.ascension+= 15000;\r\n                        }\r\n        \r\n                        if((desired_level > 50 && level < 50)\r\n                    || (desired_level === 50 && level < 50 && ascend_next_max)\r\n                    || (level===50 && ascended !== 1 && ascend_next_max)){\r\n                            weaponitems.domain.rarity3+=6;\r\n                            weaponitems.common1.rarity3+=6;\r\n                            weaponitems.common2.rarity2+=6;\r\n                            weaponitems.mora.ascension+= 20000;\r\n                        }\r\n        \r\n                        if((desired_level > 60 && level < 60)\r\n                    || (desired_level === 60 && level < 60 && ascend_next_max)\r\n                    || (level===60 && ascended !== 1 && ascend_next_max)){\r\n                            weaponitems.domain.rarity4+=3;\r\n                            weaponitems.common1.rarity3+=12;\r\n                            weaponitems.common2.rarity2+=9;\r\n                            weaponitems.mora.ascension+= 30000;\r\n                        }\r\n        \r\n                        if((desired_level > 70 && level < 70)\r\n                    || (desired_level === 70 && level < 70 && ascend_next_max)\r\n                    || (level===70 && ascended !== 1 && ascend_next_max)){\r\n                            weaponitems.domain.rarity4+=6;\r\n                            weaponitems.common1.rarity4+=9;\r\n                            weaponitems.common2.rarity3+=6;\r\n                            weaponitems.mora.ascension+= 35000;\r\n                        }\r\n        \r\n                        if((desired_level > 80 && level < 80)\r\n                    || (desired_level === 80 && level < 80 && ascend_next_max)\r\n                    || (level===80 && ascended !== 1 && ascend_next_max)){\r\n                            weaponitems.domain.rarity5+=4;\r\n                            weaponitems.common1.rarity4+=18;\r\n                            weaponitems.common2.rarity3+=12;\r\n                            weaponitems.mora.ascension+= 45000;\r\n                        }\r\n                    }else if(rarity === 3){\r\n                        if((desired_level > 20 && level < 20)\r\n                    || (desired_level === 20 && level < 20 && ascend_next_max)\r\n                    || (level===20 && ascended !== 1 && ascend_next_max)){\r\n                            weaponitems.domain.rarity2+=2;\r\n                            weaponitems.common1.rarity2+=2;\r\n                            weaponitems.common2.rarity1+=1;\r\n                            weaponitems.mora.ascension+= 5000;\r\n                        }\r\n        \r\n                        if((desired_level > 40 && level < 40)\r\n                    || (desired_level === 40 && level < 40 && ascend_next_max)\r\n                    || (level===40 && ascended !== 1 && ascend_next_max)){\r\n                            weaponitems.domain.rarity3+=2;\r\n                            weaponitems.common1.rarity2+=8;\r\n                            weaponitems.common2.rarity1+=5;\r\n                            weaponitems.mora.ascension+= 10000;\r\n                        }\r\n        \r\n                        if((desired_level > 50 && level < 50)\r\n                    || (desired_level === 50 && level < 50 && ascend_next_max)\r\n                    || (level===50 && ascended !== 1 && ascend_next_max)){\r\n                            weaponitems.domain.rarity3+=4;\r\n                            weaponitems.common1.rarity3+=4;\r\n                            weaponitems.common2.rarity2+=4;\r\n                            weaponitems.mora.ascension+= 15000;\r\n                        }\r\n        \r\n                        if((desired_level > 60 && level < 60)\r\n                    || (desired_level === 60 && level < 60 && ascend_next_max)\r\n                    || (level===60 && ascended !== 1 && ascend_next_max)){\r\n                            weaponitems.domain.rarity4+=2;\r\n                            weaponitems.common1.rarity3+=8;\r\n                            weaponitems.common2.rarity2+=8;\r\n                            weaponitems.mora.ascension+= 20000;\r\n                        }\r\n        \r\n                        if((desired_level > 70 && level < 70)\r\n                    || (desired_level === 70 && level < 70 && ascend_next_max)\r\n                    || (level===70 && ascended !== 1 && ascend_next_max)){\r\n                            weaponitems.domain.rarity4+=4;\r\n                            weaponitems.common1.rarity4+=6;\r\n                            weaponitems.common2.rarity3+=4;\r\n                            weaponitems.mora.ascension+= 25000;\r\n                        }\r\n        \r\n                        if((desired_level > 80 && level < 80)\r\n                    || (desired_level === 80 && level < 80 && ascend_next_max)\r\n                    || (level===80 && ascended !== 1 && ascend_next_max)){\r\n                            weaponitems.domain.rarity5+=3;\r\n                            weaponitems.common1.rarity4+=12;\r\n                            weaponitems.common2.rarity3+=8;\r\n                            weaponitems.mora.ascension+= 30000;\r\n                        }\r\n                    }\r\n\r\n                    // Calculate number of EXP books needed\r\n                    if(rarity === 3){\r\n                        xpToLevelWeaponRarity3.forEach((value, index) => {\r\n                            if(index >= level && index < desired_level){\r\n                                    weaponitems.xp.total+= value;\r\n                            }\r\n                        })\r\n                    }else if(rarity === 4){\r\n                        xpToLevelWeaponRarity4.forEach((value, index) => {\r\n                            if(index >= level && index < desired_level){\r\n                                    weaponitems.xp.total+= value;\r\n                            }\r\n                        })\r\n                    }else if(rarity === 5){\r\n                        xpToLevelWeaponRarity5.forEach((value, index) => {\r\n                            if(index >= level && index < desired_level){\r\n                                    weaponitems.xp.total+= value;\r\n                            }\r\n                        })\r\n                    }\r\n                    \r\n                    weaponitems.xp.mystic = Math.floor(weaponitems.xp.total / 10000);\r\n                    weaponitems.xp.fine = Math.floor((weaponitems.xp.total - (weaponitems.xp.mystic * 10000)) / 2000);\r\n                    weaponitems.xp.regular = Math.floor((weaponitems.xp.total - (weaponitems.xp.mystic * 10000) - (weaponitems.xp.fine * 2000)) / 400);\r\n                    const extra = Math.floor((weaponitems.xp.total - (weaponitems.xp.mystic * 10000) \r\n                    - (weaponitems.xp.fine * 2000) - (weaponitems.xp.regular * 400)));\r\n                    if(extra > 0){\r\n                        weaponitems.xp.wasted = Math.floor((weaponitems.xp.total - (weaponitems.xp.mystic * 10000) \r\n                        - (weaponitems.xp.fine * 2000) - (weaponitems.xp.regular * 400)));\r\n                        weaponitems.xp.regular++;\r\n                    }\r\n                    // Calculate mora\r\n                    weaponitems.mora.leveling = ((weaponitems.xp.mystic * 10000) + (weaponitems.xp.fine * 2000) + (weaponitems.xp.regular * 400))/10;\r\n                    weaponitems.mora.total = weaponitems.mora.ascension + weaponitems.mora.leveling;\r\n\r\n                    neededItems.push(weaponitems);\r\n                }       \r\n            })\r\n        }\r\n        return(neededItems);\r\n}\r\n\r\nasync function setupNeededItems(userItems){\r\n    userItems.forEach(element => {\r\n        element.needed = 0;\r\n        element.neededWeaponAsc = 0;\r\n        element.neededWeaponLevel = 0;\r\n        element.neededCharacterAsc = 0;\r\n        element.neededCharacterLevel = 0;\r\n        element.neededCharacterTalent = 0;\r\n        element.canForge = 0;\r\n        element.totalAmount = 0;\r\n    })\r\n    return userItems;\r\n}\r\n\r\nexport async function retrieveNeededWeaponItems(user, userItems){\r\n    var neededItems = await getNeededItemsWeapons(user);\r\n    if(neededItems){\r\n        neededItems.forEach(weapon => {\r\n            var item = findItemIndex(userItems, weapon.domain.item_rarity2);\r\n            userItems[item].needed += weapon.domain.rarity2;\r\n            userItems[item].neededWeaponAsc += weapon.domain.rarity2;\r\n            item = findItemIndex(userItems, weapon.domain.item_rarity3);\r\n            userItems[item].needed += weapon.domain.rarity3;\r\n            userItems[item].neededWeaponAsc += weapon.domain.rarity3;\r\n            item = findItemIndex(userItems, weapon.domain.item_rarity4);\r\n            userItems[item].needed += weapon.domain.rarity4;\r\n            userItems[item].neededWeaponAsc += weapon.domain.rarity4;\r\n            item = findItemIndex(userItems, weapon.domain.item_rarity5);\r\n            userItems[item].needed += weapon.domain.rarity5;\r\n            userItems[item].neededWeaponAsc += weapon.domain.rarity5;\r\n\r\n            item = findItemIndex(userItems, weapon.common1.item_rarity2);\r\n            userItems[item].needed += weapon.common1.rarity2;\r\n            userItems[item].neededWeaponAsc += weapon.common1.rarity2;\r\n            item = findItemIndex(userItems, weapon.common1.item_rarity3);\r\n            userItems[item].needed += weapon.common1.rarity3;\r\n            userItems[item].neededWeaponAsc += weapon.common1.rarity3;\r\n            item = findItemIndex(userItems, weapon.common1.item_rarity4);\r\n            userItems[item].needed += weapon.common1.rarity4;\r\n            userItems[item].neededWeaponAsc += weapon.common1.rarity4;\r\n\r\n            item = findItemIndex(userItems, weapon.common2.item_rarity1);\r\n            userItems[item].needed += weapon.common2.rarity1;\r\n            userItems[item].neededWeaponAsc += weapon.common2.rarity1;\r\n            item = findItemIndex(userItems, weapon.common2.item_rarity2);\r\n            userItems[item].needed += weapon.common2.rarity2;\r\n            userItems[item].neededWeaponAsc += weapon.common2.rarity2;\r\n            item = findItemIndex(userItems, weapon.common2.item_rarity3);\r\n            userItems[item].needed += weapon.common2.rarity3;\r\n            userItems[item].neededWeaponAsc += weapon.common2.rarity3;\r\n\r\n            item = findItemIndex(userItems, \"Mystic Enhancement Ore\");\r\n            userItems[item].needed += weapon.xp.mystic;\r\n            userItems[item].neededWeaponLevel += weapon.xp.mystic;\r\n            item = findItemIndex(userItems, \"Fine Enhancement Ore\");\r\n            userItems[item].needed += weapon.xp.fine;\r\n            userItems[item].neededWeaponLevel += weapon.xp.mystic;\r\n            item = findItemIndex(userItems, \"Enhancement Ore\");\r\n            userItems[item].needed += weapon.xp.regular;\r\n            userItems[item].neededWeaponLevel += weapon.xp.mystic;\r\n\r\n            item = findItemIndex(userItems, \"Mora\");\r\n            userItems[item].needed += weapon.mora.total;\r\n            userItems[item].neededWeaponAsc += weapon.mora.ascension;\r\n            userItems[item].neededWeaponLevel += weapon.mora.leveling;\r\n        });\r\n        return userItems;\r\n    }\r\n};\r\n\r\nexport async function retrieveNeededCharacterItems(user, userItems){\r\n    var neededItems = await getNeededItemsCharacters(user);\r\n    if(neededItems){\r\n        for(var character of neededItems){\r\n            var item = findItemIndex(userItems, character.crystal.item_rarity2);\r\n            userItems[item].needed += character.crystal.rarity2;\r\n            userItems[item].neededCharacterAsc += character.crystal.rarity2;\r\n            item = findItemIndex(userItems, character.crystal.item_rarity3);\r\n            userItems[item].needed += character.crystal.rarity3;\r\n            userItems[item].neededCharacterAsc += character.crystal.rarity3;\r\n            item = findItemIndex(userItems, character.crystal.item_rarity4);\r\n            userItems[item].needed += character.crystal.rarity4;\r\n            userItems[item].neededCharacterAsc += character.crystal.rarity4;\r\n            item = findItemIndex(userItems, character.crystal.item_rarity5);\r\n            userItems[item].needed += character.crystal.rarity5;\r\n            userItems[item].neededCharacterAsc += character.crystal.rarity5;\r\n\r\n            item = findItemIndex(userItems, character.boss.item);\r\n            userItems[item].needed += character.boss.amount;\r\n            userItems[item].neededCharacterAsc += character.boss.amount;\r\n            item = findItemIndex(userItems, character.specialty.item);\r\n            userItems[item].needed += character.specialty.amount;\r\n            userItems[item].neededCharacterAsc += character.specialty.amount;\r\n\r\n            item = findItemIndex(userItems, character.common.item_rarity1);\r\n            userItems[item].needed += character.common.rarity1;\r\n            userItems[item].neededCharacterAsc += character.common.rarity1;\r\n            userItems[item].neededCharacterTalent += character.talent.common_rarity1;\r\n            item = findItemIndex(userItems, character.common.item_rarity2);\r\n            userItems[item].needed += character.common.rarity2;\r\n            userItems[item].neededCharacterAsc += character.common.rarity2;\r\n            userItems[item].neededCharacterTalent += character.talent.common_rarity2;\r\n            item = findItemIndex(userItems, character.common.item_rarity3);\r\n            userItems[item].needed += character.common.rarity3;\r\n            userItems[item].neededCharacterAsc += character.common.rarity3;\r\n            userItems[item].neededCharacterTalent += character.talent.common_rarity3;\r\n\r\n            item = findItemIndex(userItems, character.talent.item_rarity2);\r\n            userItems[item].needed += character.talent.rarity2;\r\n            userItems[item].neededCharacterTalent += character.talent.rarity2;\r\n            item = findItemIndex(userItems, character.talent.item_rarity3);\r\n            userItems[item].needed += character.talent.rarity3;\r\n            userItems[item].neededCharacterTalent += character.talent.rarity3;\r\n            item = findItemIndex(userItems, character.talent.item_rarity4);\r\n            userItems[item].needed += character.talent.rarity4;\r\n            userItems[item].neededCharacterTalent += character.talent.rarity4;\r\n\r\n            item = findItemIndex(userItems, character.weeklyBoss.item);\r\n            userItems[item].needed += character.weeklyBoss.amount;\r\n            userItems[item].neededCharacterTalent += character.weeklyBoss.amount;\r\n\r\n            item = findItemIndex(userItems, \"Hero's Wit\");\r\n            userItems[item].needed += character.xp.heroswit;\r\n            userItems[item].neededCharacterLevel += character.xp.heroswit;\r\n            item = findItemIndex(userItems, \"Adventurer's Experience\");\r\n            userItems[item].needed += character.xp.adventurers;\r\n            userItems[item].neededCharacterLevel += character.xp.adventurers;\r\n            item = findItemIndex(userItems, \"Wanderer's Advice\");\r\n            userItems[item].needed += character.xp.wanderers;\r\n            userItems[item].neededCharacterLevel += character.xp.wanderers;\r\n\r\n            item = findItemIndex(userItems, \"Mora\");\r\n            userItems[item].needed += character.mora.total;\r\n            userItems[item].neededCharacterAsc += character.mora.ascension;\r\n            userItems[item].neededCharacterLevel += character.mora.leveling;\r\n            userItems[item].neededCharacterTalent += character.mora.talents;\r\n        };\r\n        return userItems;\r\n    }     \r\n}\r\n\r\nexport async function checkForge(userItems){\r\n    var item = -1;\r\n    for(var i = 0; i<userItems.length; i++){\r\n        if(userItems[i].craftable === 1){\r\n            if(userItems[i].item_group === \"Weapon EXP Material\"){\r\n                if(userItems[i].name === \"Mystic Enhancement Ore\"){\r\n                    item = findItemIndex(userItems, \"Crystal Chunk\");\r\n                    userItems[i].canForge = Math.floor(userItems[item].Users[0].UserItems.amount/3);\r\n                } else if(userItems[i].name === \"Fine Enhancement Ore\"){\r\n                    item = findItemIndex(userItems, \"White Iron Chunk\");\r\n                    userItems[i].canForge = Math.floor(userItems[item].Users[0].UserItems.amount/3);\r\n                } else if(userItems[i].name === \"Enhancement Ore\"){\r\n                    item = findItemIndex(userItems, \"Iron Chunk\");\r\n                    userItems[i].canForge = Math.floor(userItems[item].Users[0].UserItems.amount/3);\r\n                }\r\n            }else{\r\n                item = findItemIndexFromItemGroup(userItems, userItems[i].item_group, userItems[i].rarity-1);\r\n                if(userItems[item].Users[0].UserItems.amount > 3){\r\n                    userItems[i].canForge = Math.floor(userItems[item].Users[0].UserItems.amount/3);\r\n                }\r\n            }\r\n\r\n            userItems[i].totalAmount = userItems[i].Users[0].UserItems.amount + userItems[i].Users[0].UserItems.forge;\r\n            userItems[item].totalAmount = userItems[item].Users[0].UserItems.amount - userItems[i].Users[0].UserItems.forge;\r\n        }else{\r\n            userItems[i].totalAmount = userItems[i].Users[0].UserItems.amount;\r\n            userItems[i].canForge = -1;\r\n            userItems[i].Users[0].UserItems.forge = -1;\r\n        }\r\n    }\r\n    return userItems;\r\n}\r\n\r\nexport async function retrieveNeeded(user, userItems){\r\n    userItems = await setupNeededItems(userItems);\r\n    userItems = await retrieveNeededWeaponItems(user, userItems);\r\n    userItems = await retrieveNeededCharacterItems(user, userItems);\r\n    userItems = await checkForge(userItems);\r\n    return userItems;\r\n}\r\n\r\nfunction findItemIndex(items, name){\r\n    return items.findIndex(element => element.name === name);\r\n}\r\n\r\nfunction findItemFromItemGroup(items, item_group, rarity){\r\n    return items.find(item => {\r\n        return item.item_group === item_group && item.rarity === rarity\r\n    });\r\n}\r\n\r\nfunction findItemIndexFromItemGroup(userItems, item_group, rarity){\r\n    return userItems.findIndex(element => (\r\n        element.rarity === rarity && \r\n        element.item_group === item_group\r\n    ));\r\n}","import React, { useEffect, useState, useContext  } from \"react\";\r\nimport {getAllItems, getUserItems, updateUserItem} from \"../services/ItemService\";\r\nimport {retrieveNeeded, checkForge} from \"../tools/ItemCalc\";\r\nimport Container from 'react-bootstrap/Container';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Image from 'react-bootstrap/Image';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport cellEditFactory from 'react-bootstrap-table2-editor';\r\nimport ToolkitProvider, { Search } from 'react-bootstrap-table2-toolkit';\r\nimport {FaSortUp, FaSortDown} from 'react-icons/fa';\r\nimport filterFactory, { numberFilter, Comparator } from 'react-bootstrap-table2-filter';\r\nimport {GiSwapBag} from 'react-icons/gi';\r\nimport \"../App.css\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport { userContext } from \"../userContext\";\r\nimport {cloneDeep} from \"lodash\";\r\nconst set = require('set-value');\r\nconst { SearchBar } = Search;\r\n\r\nfunction Items(){\r\n    const user = useContext(userContext);\r\n    const [items, setItems] = useState([]);\r\n    const [userItems, setUserItems] = useState([]);\r\n    const [itemData, setItemData] = useState([]);\r\n    const [changed, setChanged] = useState(false);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const unEditableHeader = {\r\n        backgroundColor: '#424242', \r\n        position: 'sticky', \r\n        top: '50px', \r\n        zIndex: '1', \r\n        boxShadow: '0 2px white',\r\n        height: '100px'\r\n    };\r\n\r\n    const columns = [{\r\n        dataField: `item_id`,\r\n        hidden: true\r\n    },{\r\n        dataField: `game_sort_order`,\r\n        text: 'Game\\nSort',\r\n        sort: true,\r\n        sortCaret: sortingThing,\r\n        editable: false,\r\n        headerStyle: unEditableHeader\r\n    },{\r\n        dataField: `name`,\r\n        text: `Name`,\r\n        sort: true,\r\n        sortCaret: sortingThing,\r\n        editable: false,\r\n        formatter: imageFormatter,\r\n        style: {width: '300px'},\r\n        headerStyle: {\r\n            backgroundColor: '#424242', \r\n            position: 'sticky', \r\n            top: '50px', \r\n            zIndex: '1', \r\n            boxShadow: '0 2px white',\r\n            height: '100px',\r\n            width: '300px'\r\n        }\r\n    },{\r\n        dataField: `Users[0].UserItems.amount`,\r\n        text: `Have`,\r\n        sort: true,\r\n        sortCaret: sortingThing,\r\n        style: {backgroundColor: '#303030', borderLeft: '1px solid white', borderRight: '1px solid white'},\r\n        headerStyle: {backgroundColor: '#303030', position: 'sticky', top: '50px', zIndex: '1', boxShadow: 'inset 1px 0px white, 0 2px white', height: '100px'},\r\n        validator: checkAmountNum\r\n    },{\r\n        dataField: `needed`,\r\n        text: `Needed\\nTotal`,\r\n        sort: true,\r\n        sortCaret: sortingThing,\r\n        editable: false,\r\n        filter: numberFilter({\r\n            defaultValue: { number: '0', comparator: Comparator.GT },\r\n            placeholder: '#'\r\n          }),\r\n        headerStyle: {\r\n            backgroundColor: '#424242', \r\n            position: 'sticky', \r\n            top: '50px', \r\n            zIndex: '1', \r\n            boxShadow: 'inset 1px 0px white, 0 2px white',\r\n            height: '100px'\r\n        }\r\n    },{\r\n        dataField: `Users[0].UserItems.forge`,\r\n        text: `Forge`,\r\n        sort: true,\r\n        sortCaret: sortingThing,\r\n        style: (cell, row, rowIndex, colIndex) => {\r\n            if(cell !== -1){\r\n               return {backgroundColor: '#303030', borderLeft: '1px solid white', borderRight: '1px solid white'}\r\n            }else{\r\n                return {borderLeft: '1px solid white', borderRight: '1px solid white'}\r\n            }\r\n        },\r\n        headerStyle: {backgroundColor: '#303030', position: 'sticky', top: '50px', zIndex: '1', boxShadow: 'inset 1px 0px white, 0 2px white', height: '100px'},\r\n        editable: (cell, row, rowIndex, colIndex) => {\r\n            return cell !== -1;\r\n        },\r\n        formatter: forgeFormatter,\r\n        formatExtraData: {\r\n            '-1': ''\r\n        },\r\n        validator: checkForgeNum\r\n    },{\r\n        dataField: `canForge`,\r\n        text: `Can\\nForge`,\r\n        sort: true,\r\n        sortCaret: sortingThing,\r\n        editable: false,\r\n        formatter: forgeFormatter,\r\n        formatExtraData: {\r\n            '-1': ''\r\n        },\r\n        headerStyle: {\r\n            backgroundColor: '#424242', \r\n            position: 'sticky', \r\n            top: '50px', \r\n            zIndex: '1', \r\n            boxShadow: 'inset 1px 0px white, 0 2px white',\r\n            height: '100px'\r\n        }\r\n    },{\r\n        dataField: `totalAmount`,\r\n        text: `Total\\nAmount`,\r\n        sort: true,\r\n        sortCaret: sortingThing,\r\n        editable: false,\r\n        style: (cell, row, rowIndex, colIndex) => {\r\n            if(cell < 0){\r\n               return {color: 'red'}\r\n            }\r\n        },\r\n        headerStyle: unEditableHeader\r\n    },{\r\n        dataField: `neededCharacterAsc`,\r\n        text: `Character\\nAscension`,\r\n        sort: true,\r\n        sortCaret: sortingThing,\r\n        editable: false,\r\n        headerStyle: unEditableHeader\r\n    },{\r\n        dataField: `neededCharacterTalent`,\r\n        text: `Character\\nTalent`,\r\n        sort: true,\r\n        sortCaret: sortingThing,\r\n        editable: false,\r\n        headerStyle: unEditableHeader\r\n    },{\r\n        dataField: `neededCharacterLevel`,\r\n        text: `Character\\nLeveling`,\r\n        sort: true,\r\n        sortCaret: sortingThing,\r\n        editable: false,\r\n        headerStyle: unEditableHeader\r\n    },{\r\n        dataField: `neededWeaponAsc`,\r\n        text: `Weapon\\nAscension`,\r\n        sort: true,\r\n        sortCaret: sortingThing,\r\n        editable: false,\r\n        headerStyle: unEditableHeader\r\n    },{\r\n        dataField: `neededWeaponLevel`,\r\n        text: `Weapon\\nLeveling`,\r\n        sort: true,\r\n        sortCaret: sortingThing,\r\n        editable: false,\r\n        headerStyle: unEditableHeader\r\n    }];\r\n\r\n    const defaultSorted = [{\r\n        dataField: 'game_sort_order',\r\n        order: 'asc'\r\n    }];\r\n\r\n    function sortingThing(order, column){\r\n        if (!order) return (\r\n        <span>&nbsp;&nbsp;\r\n            <div style={{display: 'inline-block'}}>\r\n                <FaSortUp />\r\n                <FaSortDown style={{ position: 'relative', right: '16px'}} />\r\n            </div>\r\n        </span>);\r\n        else if (order === 'asc') return (\r\n        <span>&nbsp;&nbsp;\r\n            <div style={{display: 'inline-block'}}>\r\n                <FaSortUp />\r\n                <FaSortDown style={{ position: 'relative', right: '16px', fill: 'gray' }} />\r\n            </div>\r\n        </span>);\r\n        else if (order === 'desc') return (\r\n        <span>&nbsp;&nbsp;\r\n            <div style={{display: 'inline-block'}}>\r\n                <FaSortUp style={{ fill: 'gray' }} />\r\n                <FaSortDown style={{ position: 'relative', right: '16px' }}/>\r\n            </div>\r\n        </span>);\r\n        return null;\r\n    }\r\n\r\n    useEffect(() =>{\r\n        (async function retrieveStuff() {\r\n            setLoading(true);\r\n            setItems(await retrieveItemsInfo());\r\n            setUserItems(await retrieveNeeded(user, await retrieveUserItems()));\r\n            setLoading(false);\r\n        }) ();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [user]);\r\n\r\n    function forgeFormatter(cell, row, rowIndex, formatExtraData) {\r\n        if(cell !== -1){\r\n            return cell;\r\n        }\r\n        return(\r\n        <span>{formatExtraData[cell]}</span>\r\n        )\r\n    }\r\n\r\n    /*async function retrieveStuff(){\r\n        setItems(await retrieveItemsInfo());\r\n        setUserItems(await retrieveNeeded(await retrieveUserItems()));\r\n        setLoading(false);\r\n    }*/\r\n\r\n    async function retrieveItemsInfo(){\r\n        return new Promise(function(resolve, reject) {\r\n            getAllItems().then(response => {\r\n                resolve(response.data);\r\n            }).catch(e => {\r\n                console.log(e);\r\n            });\r\n        })\r\n    };\r\n\r\n    async function retrieveUserItems(){\r\n        return new Promise(function(resolve, reject) {         \r\n            if(user){\r\n                getUserItems().then(response => {\r\n                    resolve(response.data);\r\n                }).catch(e => {\r\n                    console.log(e);\r\n                });\r\n            }else{\r\n                // If not signed in and no userItems stored locally...\r\n                const localUserItemData = JSON.parse(localStorage.getItem(\"userItems\"));\r\n                if(!localUserItemData || localUserItemData.length === 0){\r\n                    const newUserItems = [];\r\n                    items.forEach(element => {\r\n                        const newUserItem = element;\r\n                        newUserItem.Users = [];\r\n                        newUserItem.Users[0]= {};\r\n                        set(newUserItem.Users[0], 'UserItems.amount', 0);\r\n                        set(newUserItem.Users[0], 'UserItems.forge', 0);\r\n                        newUserItems.push(newUserItem);               \r\n                    }) \r\n                    //setUserItems(newUserItems);     \r\n                    localStorage.setItem(\"userItems\", JSON.stringify(newUserItems));\r\n                    resolve(newUserItems);\r\n                }else{\r\n                    resolve(localUserItemData);\r\n                }\r\n            }\r\n        })\r\n    };\r\n\r\n    \r\n\r\n    function checkAmountNum(newValue, row, column){\r\n        if (isNaN(newValue)) {\r\n            return {\r\n              valid: false,\r\n              message: 'Number should be numeric'\r\n            };\r\n        }\r\n        else if(newValue < 0){\r\n            return {\r\n                valid: false,\r\n                message: 'Number should not be lower than 0'\r\n            };\r\n        }\r\n        \r\n        return true;\r\n    }\r\n\r\n    async function checkForgeNum(newValue, row, column){\r\n        if (isNaN(newValue)) {\r\n            return {\r\n              valid: false,\r\n              message: 'Number should be numeric'\r\n            };\r\n        }\r\n        else if(newValue < 0){\r\n            return {\r\n                valid: false,\r\n                message: 'Number should not be lower than 0'\r\n            };\r\n        }\r\n        \r\n        setUserItems(await checkForge(userItems));\r\n        \r\n        return true;\r\n    }\r\n\r\n    function UpdateUserItem(value){\r\n        if(user){\r\n            const data ={\r\n                itemid: value.item_id,\r\n                amount: value.amount,\r\n                forge: value.forge\r\n            };\r\n            updateUserItem(data)\r\n            .then(response => {\r\n                console.log(response.data);\r\n                console.log(\"The user item was updated successfully!\");\r\n            })\r\n            .catch(e => {\r\n                console.log(e);\r\n            });\r\n        }else{\r\n            const indexOfItem = itemData.findIndex(itema => itema.item_id === value.item_id);\r\n            const newUserItem = itemData[indexOfItem];\r\n                set(newUserItem.Users[0], 'UserItems.amount', value.amount);\r\n                set(newUserItem.Users[0], 'UserItems.forge', value.forge);\r\n                const newUserItems = cloneDeep(userItems);\r\n                newUserItems.push(newUserItem);\r\n                setUserItems(newUserItems);\r\n                localStorage.setItem(\"userItems\", JSON.stringify(newUserItems));\r\n        }\r\n    }; \r\n\r\n    function saveChanged(){\r\n        setChanged(false);\r\n        itemData.forEach(UpdateUserItem);\r\n        setItemData([]);\r\n    }\r\n\r\n    function imageFormatter(cell, row, rowIndex, formatExtraData) {\r\n        return(\r\n        <span>\r\n            <Image src={'https://muni.moe/images/genshin/Item_'+cell.replace(/ /g, '_').replace(/'/g,'%27')+'.png'} style={{height: '32px', width: '32px', marginRight: \"10px\", display: 'inline-block', verticalAlign: 'middle'}}/>\r\n            <p style={{display: 'inline-block'}}>{cell}</p>\r\n            \r\n        </span>\r\n        )\r\n    }\r\n\r\n    return(\r\n        <>\r\n        <Row className=\"justify-content-md-center\" style={{paddingLeft: '10px', paddingTop: '30px'}}>\r\n            <div style={{display: 'flex', alignItems: 'center'}}>\r\n                <GiSwapBag size='64' color='white' style={{display: \"inline-block\", verticalAlign: 'middle !important', marginRight: '10px'}}/>\r\n                <h1 style={{display: \"inline-block\"}}>Item Inventory</h1>\r\n            </div>    \r\n        </Row>\r\n        <Row className=\"justify-content-md-center\" style={{paddingLeft: '10px'}}>\r\n            <p>Click a dark cell to edit!</p>\r\n        </Row>\r\n        <Container fluid className='table-container'>         \r\n            <Row className=\"justify-content-md-center\">\r\n                <ToolkitProvider\r\n                    keyField=\"item_id\"\r\n                    data={ userItems }\r\n                    columns={ columns }\r\n                    search\r\n                >{\r\n                    props => (\r\n                        <div>\r\n                            <Row style={{paddingLeft: '30px', paddingRight: '30px'}}>\r\n                                <div>\r\n                                    <SearchBar { ...props.searchProps } className=\"searchBar\" />\r\n                                </div>                                               \r\n                            </Row>\r\n                            <BootstrapTable\r\n                                bootstrap4\r\n                                cellEdit={ cellEditFactory({ \r\n                                    mode: 'click',\r\n                                    blurToSave: true,\r\n                                    afterSaveCell: (oldValue, newValue, row, column) => {\r\n                                        const indexOfItem = itemData.findIndex(userItem => userItem.item_id === row.Users[0].UserItems.item_id);\r\n                                        if(indexOfItem !== -1){\r\n                                            itemData[indexOfItem] = row.Users[0].UserItems;\r\n                                        }else{\r\n                                            itemData.push(row.Users[0].UserItems);\r\n                                        }\r\n                                        setItemData(itemData);\r\n                                        setChanged(true);\r\n                                    }\r\n                                })}\r\n                                defaultSorted = {defaultSorted} \r\n                                hover condensed\r\n                                classes=\"my-table\"\r\n                                bordered={false}\r\n                                filter={ filterFactory() }\r\n                                noDataIndication={() => (\r\n                                    loading ? <Spinner animation=\"border\" variant=\"light\" /> : <p>No Data</p>\r\n                                )}\r\n                                { ...props.baseProps } />\r\n                        </div>\r\n                    )\r\n\r\n                }\r\n                </ToolkitProvider>\r\n            </Row>\r\n        </Container>\r\n        <Button variant=\"primary\" className=\"position-sticky float-right save-button\" onClick={() => saveChanged()} disabled={!changed}>\r\n                        Save\r\n        </Button>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Items;\r\n","import React, { useEffect, useState, useContext, Fragment } from \"react\";\r\nimport {/*getAllItems, */getUserItems} from \"../services/ItemService\";\r\nimport {retrieveNeeded, getNeededItemsCharacters, getNeededItemsWeapons} from \"../tools/ItemCalc\";\r\nimport Container from 'react-bootstrap/Container';\r\nimport Accordion from 'react-bootstrap/Accordion';\r\nimport AccordionContext from 'react-bootstrap/AccordionContext';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\r\nimport Tooltip from 'react-bootstrap/Tooltip';\r\nimport {IoIosArrowDown, IoIosArrowUp} from 'react-icons/io';\r\nimport {BsStarFill} from 'react-icons/bs';\r\nimport {GiTwoHandedSword, GiPiercingSword, GiSpearHook, GiPocketBow, GiSecretBook} from 'react-icons/gi';\r\nimport Image from 'react-bootstrap/Image';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport { useAccordionToggle } from 'react-bootstrap/AccordionToggle';\r\nimport {FaGem} from 'react-icons/fa';\r\nimport { userContext } from \"../userContext\";\r\nimport \"../App.css\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nfunction Items(){\r\n    const user = useContext(userContext);\r\n    //const [items, setItems] = useState([]);\r\n    const [userItems, setUserItems] = useState([]);\r\n    const [weaponItems, setWeaponItems] = useState([]);\r\n    const [characterItems, setCharacterItems] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [domainItems, setDomainItems] = useState();\r\n    const [monsterItems, setMonsterItems] = useState([]);\r\n    const [bossItems, setBossItems] = useState();\r\n    const [harvestingItems, setHarvestingItems] = useState([]);\r\n    const [miscItems, setMiscItems] = useState();\r\n\r\n    useEffect(() =>{\r\n        (async function retrieveStuff() {\r\n            //setItems(await retrieveItemsInfo());\r\n            setCharacterItems(await getNeededItemsCharacters(user));\r\n            setWeaponItems(await getNeededItemsWeapons(user));\r\n            var something = await retrieveNeeded(user, await retrieveUserItems());\r\n            setUserItems(something);\r\n            await itemSummary(something);\r\n            setLoading(false);\r\n        }) ();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [user]);\r\n\r\n    /*async function retrieveStuff(){\r\n        //setItems(await retrieveItemsInfo());\r\n        setCharacterItems(await getNeededItemsCharacters(user));\r\n        setWeaponItems(await getNeededItemsWeapons(user));\r\n        var something = await retrieveNeeded(user, await retrieveUserItems());\r\n        setUserItems(something);\r\n        await itemSummary(something);\r\n        setLoading(false);\r\n    }*/\r\n\r\n    /*async function retrieveItemsInfo(){\r\n        return new Promise(function(resolve, reject) {\r\n            getAllItems().then(response => {\r\n                resolve(response.data);\r\n            }).catch(e => {\r\n                console.log(e);\r\n            });\r\n        })\r\n    };*/\r\n\r\n    async function retrieveUserItems(){\r\n        return new Promise(function(resolve, reject) {         \r\n            if(user){\r\n                getUserItems().then(response => {\r\n                    resolve(response.data);\r\n                }).catch(e => {\r\n                    console.log(e);\r\n                });\r\n            }else{\r\n                // If not signed in and no userItems stored locally...\r\n                var localUserItemData = JSON.parse(localStorage.getItem(\"userItems\"));\r\n                if(!localUserItemData || localUserItemData.length === 0){\r\n                    const newUserItems = [];\r\n                    setUserItems(newUserItems);     \r\n                    localStorage.setItem(\"userItems\", JSON.stringify(newUserItems));\r\n                    resolve(newUserItems);\r\n                }else{\r\n                    resolve(localUserItemData);\r\n                }\r\n            }\r\n        })\r\n    };\r\n\r\n    function ToggleIcon({ children, eventKey, callback }){\r\n        const currentEventKey = useContext(AccordionContext);\r\n\r\n        const decoratedOnClick = useAccordionToggle(\r\n            eventKey,\r\n            () => callback && callback(eventKey),\r\n        );\r\n\r\n        return (\r\n            <div onClick={decoratedOnClick} style={{cursor: 'pointer'}}>\r\n            {children}\r\n            {(currentEventKey === eventKey)? <IoIosArrowUp size='20' style={{marginLeft: '10px', verticalAlign: 'center'}}/> : <IoIosArrowDown size='20' style={{marginLeft: '10px', verticalAlign: 'center'}}/>}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    function getItemImage(type, itemName) {\r\n        if(type === 'Character'){\r\n            return('https://muni.moe/images/genshin/Character_'+itemName+'_Thumb.png');\r\n        }else if (type === 'Weapon'){\r\n            return('https://muni.moe/images/genshin/Weapon_'+itemName.replace(/ /g, '_').replace(/'/g,'%27')+'.png');\r\n        } else if (type === 'Item'){\r\n            return('https://muni.moe/images/genshin/Item_'+itemName.replace(/ /g, '_').replace(/'/g,'%27')+'.png');\r\n        } else if (type === 'Monster'){\r\n            return('https://muni.moe/images/genshin/Enemy_'+itemName.replace(/ /g, '_').replace(/'/g,'%27')+'.png');\r\n        } else{\r\n            return('https://muni.moe/images/genshin/'+ type +'_'+itemName.replace(/ /g, '_').replace(/'/g,'%27')+'.png');\r\n        }\r\n    }\r\n\r\n    async function itemSummary(itemsList){\r\n        const domainStuff = {};\r\n        const monsterStuff = {};\r\n        const bossStuff = {\r\n            normal: {\r\n\r\n            },\r\n            weekly: {\r\n\r\n            }\r\n        };\r\n        const harvestingStuff = {};\r\n        const miscStuff = {};\r\n        itemsList.forEach(element => {\r\n            if(element.needed > 0){\r\n                if(element.Monsters.length > 0){\r\n                    // Monsters\r\n                    element.Monsters.forEach(monster => {\r\n                        if(monster.type === \"Boss\"){\r\n                            // Boss\r\n                            if(!bossStuff.normal[monster.name]){\r\n                                bossStuff.normal[monster.name] = {};\r\n                            }\r\n\r\n                            if(bossStuff.normal[monster.name][element.name]){\r\n                                bossStuff.normal[monster.name][element.name] += element.needed;\r\n                            }else{\r\n                                bossStuff.normal[monster.name][element.name] = 0;\r\n                                bossStuff.normal[monster.name][element.name] += element.needed;\r\n                            }\r\n                        }else if(monster.type === \"Weekly Boss\"){\r\n                            // Weekly Boss\r\n                            if(!bossStuff.weekly[monster.name]){\r\n                                bossStuff.weekly[monster.name] = {};\r\n                            }\r\n\r\n                            if(bossStuff.weekly[monster.name][element.name]){\r\n                                bossStuff.weekly[monster.name][element.name] += element.needed;\r\n                            }else{\r\n                                bossStuff.weekly[monster.name][element.name] = 0;\r\n                                bossStuff.weekly[monster.name][element.name] += element.needed;\r\n                            }\r\n                        } else{\r\n                            // Normal or Elite monster\r\n                            if(!monsterStuff[monster.name]){\r\n                                monsterStuff[monster.name] = {};\r\n                            }\r\n\r\n                            if(monsterStuff[monster.name][element.name]){\r\n                                monsterStuff[monster.name][element.name] += element.needed;\r\n                            }else{\r\n                                monsterStuff[monster.name][element.name] = 0;\r\n                                monsterStuff[monster.name][element.name] += element.needed;\r\n                            }\r\n                        }\r\n                    })\r\n                }else if(element.Domains.length > 0){\r\n                    // Domains\r\n                    console.log(element.Domains);\r\n                    element.Domains.forEach(domain => {\r\n                        if(!domainStuff[domain.name]){\r\n                            domainStuff[domain.name] = {};                       \r\n                        }\r\n\r\n                        if(!domainStuff[domain.name][domain.ItemDomains.day_of_week1]){\r\n                            domainStuff[domain.name][domain.ItemDomains.day_of_week1] = {};\r\n                        }\r\n                        \r\n                        if(domainStuff[domain.name][domain.ItemDomains.day_of_week1][element.name]){\r\n                            domainStuff[domain.name][domain.ItemDomains.day_of_week1][element.name]+=element.needed;\r\n                        }else{\r\n                            domainStuff[domain.name][domain.ItemDomains.day_of_week1][element.name]= 0;\r\n                            domainStuff[domain.name][domain.ItemDomains.day_of_week1][element.name]+=element.needed;\r\n                        }\r\n                        \r\n                    })                   \r\n                }else if(element.item_group === \"Ore\" || element.item_group === \"Harvested Material\"){\r\n                    // Ores, harvested stuff\r\n                    if(element.item_group === \"Ore\"){\r\n                        if(!harvestingStuff[element.location]){\r\n                            harvestingStuff[element.location] = {};                       \r\n                        }                       \r\n                        if(harvestingStuff[element.location][element.name]){\r\n                            harvestingStuff[element.location][element.name]+=element.needed;\r\n                        }else{\r\n                            harvestingStuff[element.location][element.name]= 0;\r\n                            harvestingStuff[element.location][element.name]+=element.needed;\r\n                        }\r\n                    }else if(element.item_group === \"Harvested Material\"){\r\n                        if(!harvestingStuff[element.location]){\r\n                            harvestingStuff[element.location] = {};                       \r\n                        }                       \r\n                        if(harvestingStuff[element.location][element.name]){\r\n                            harvestingStuff[element.location][element.name]+=element.needed;\r\n                        }else{\r\n                            harvestingStuff[element.location][element.name]= 0;\r\n                            harvestingStuff[element.location][element.name]+=element.needed;\r\n                        } \r\n                    }\r\n                }else{\r\n                    // EXP, Mora\r\n                    if(element.item_group === \"Character EXP Material\"){\r\n                        if(!miscStuff.Characters){\r\n                            miscStuff.Characters = {};                       \r\n                        }    \r\n                        if(miscStuff.Characters[element.name]){\r\n                            miscStuff.Characters[element.name] += element.needed;\r\n                        }else{\r\n                            miscStuff.Characters[element.name] = 0;\r\n                            miscStuff.Characters[element.name] += element.needed;\r\n                        }\r\n                    }else if(element.item_group === \"Weapon EXP Material\"){\r\n                        if(!miscStuff.Weapons){\r\n                            miscStuff.Weapons = {};                       \r\n                        }    \r\n                        if(miscStuff.Weapons[element.name]){\r\n                            miscStuff.Weapons[element.name] += element.needed;\r\n                        }else{\r\n                            miscStuff.Weapons[element.name] = 0;\r\n                            miscStuff.Weapons[element.name] += element.needed;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        })\r\n        setDomainItems(domainStuff);\r\n        setMonsterItems(monsterStuff);\r\n        setBossItems(bossStuff);\r\n        setHarvestingItems(harvestingStuff);\r\n        setMiscItems(miscStuff);\r\n        return;\r\n    }\r\n\r\n    function imageWithToolTipIfAmount(itemType, item, amount){\r\n        if(amount > 0 || amount=== -1){\r\n            return (\r\n                \r\n            <div style={{position: 'relative', display: 'inline-block', marginRight: '5px'}}>\r\n                <OverlayTrigger\r\n                placement='bottom'\r\n                overlay={\r\n                <Tooltip>\r\n                    {item}\r\n                </Tooltip>\r\n            }\r\n            >\r\n                <Image src={getItemImage(itemType, item)} className='sum-image'/>\r\n                </OverlayTrigger>\r\n                <div className='overlay'>{amount===-1? '':amount}</div>\r\n            </div>\r\n            )\r\n        }       \r\n    }\r\n\r\n    function getRarityGradient(rarity){\r\n        if(rarity === 1){\r\n            return ({\r\n                background: 'rgb(79,88,100) linear-gradient(175deg, rgba(79,88,100,1) 0%, rgba(134,146,155,1) 100%)'\r\n            });\r\n        } else if(rarity === 2){\r\n            return ({\r\n                background: 'rgb(62,77,77) linear-gradient(175deg, rgba(62,77,77,1) 0%, rgba(97,151,111,1) 100%)'\r\n            });\r\n        } else if(rarity === 3){\r\n            return ({\r\n                background: 'rgb(81,84,116) linear-gradient(175deg, rgba(81,84,116,1) 0%, rgba(77,161,181,1) 100%)'\r\n            });\r\n        } else if(rarity === 4){\r\n            return ({\r\n                background: 'rgb(89,84,130) linear-gradient(175deg, rgba(89,84,130,1) 0%, rgba(185,136,202,1) 100%)'\r\n            });\r\n        } else if(rarity === 5){\r\n            return ({\r\n                background: 'rgb(105,84,83) linear-gradient(175deg, rgba(105,84,83,1) 0%, rgba(230,174,87,1) 100%)'\r\n            });\r\n        }\r\n    }\r\n\r\n    function getRarityFrame(rarity){\r\n        if(rarity === 1){\r\n            return ({\r\n                backgroundImage: `url(\"${getItemImage('Frame', \"Common\")}\")`,\r\n                backgroundRepeat: 'no-repeat',\r\n                backgroundSize: 'contain',\r\n                paddingBottom: '11.76%',\r\n                height: '0px'\r\n            });\r\n        } else if(rarity === 2){\r\n            return ({\r\n                backgroundImage: `url(\"${getItemImage('Frame', \"Uncommon\")}\")`,\r\n                backgroundRepeat: 'no-repeat',\r\n                backgroundSize: 'contain',\r\n                paddingBottom: '11.76%',\r\n                height: '0px'\r\n            });\r\n        } else if(rarity === 3){\r\n            return ({\r\n                backgroundImage: `url(\"${getItemImage('Frame', \"Rare\")}\")`,\r\n                backgroundRepeat: 'no-repeat',\r\n                backgroundSize: 'contain',\r\n                paddingBottom: '11.76%',\r\n                height: '0px'\r\n            });\r\n        } else if(rarity === 4){\r\n            return ({\r\n                backgroundImage: `url(\"${getItemImage('Frame', \"Epic\")}\")`,\r\n                backgroundRepeat: 'no-repeat',\r\n                backgroundSize: 'contain',\r\n                paddingBottom: '11.76%',\r\n                height: '0px'\r\n            });\r\n        } else if(rarity === 5){\r\n            return ({\r\n                backgroundImage: `url(\"${getItemImage('Frame', \"Legendary\")}\")`,\r\n                backgroundRepeat: 'no-repeat',\r\n                backgroundSize: 'contain',\r\n                paddingBottom: '11.76%',\r\n                height: '0px'\r\n            });\r\n        }\r\n    }\r\n\r\n    function getRarityStars(rarity){\r\n        if(rarity === 1){\r\n            return (\r\n                <>\r\n                    <BsStarFill color='#ffcc32'/>\r\n                </>\r\n            );\r\n        } else if(rarity === 2){\r\n            return (\r\n                <>\r\n                    <BsStarFill color='#ffcc32'/>\r\n                    <BsStarFill color='#ffcc32'/>\r\n                </>\r\n            );\r\n        } else if(rarity === 3){\r\n            return (\r\n                <div style={{display: 'inline-block'}}>\r\n                    <BsStarFill color='#ffcc32'/>\r\n                    <BsStarFill color='#ffcc32'/>\r\n                    <BsStarFill color='#ffcc32'/>\r\n                </div>\r\n            );\r\n        } else if(rarity === 4){\r\n            return (\r\n                <div style={{display: 'inline-block'}}>\r\n                    <BsStarFill color='#ffcc32'/>\r\n                    <BsStarFill color='#ffcc32'/>\r\n                    <BsStarFill color='#ffcc32'/>\r\n                    <BsStarFill color='#ffcc32'/>\r\n                </div>\r\n            );\r\n        } else if(rarity === 5){\r\n            return (\r\n                <>\r\n                    <BsStarFill color='#ffcc32'/>\r\n                    <BsStarFill color='#ffcc32'/>\r\n                    <BsStarFill color='#ffcc32'/>\r\n                    <BsStarFill color='#ffcc32'/>\r\n                    <BsStarFill color='#ffcc32'/>\r\n                </>\r\n            );\r\n        }\r\n    }\r\n\r\n    function getWeaponTypeIcon(weaponType){\r\n        if(weaponType === \"Bow\"){\r\n            return(\r\n                <OverlayTrigger\r\n                placement='bottom'\r\n                overlay={\r\n                <Tooltip>\r\n                    {weaponType}\r\n                </Tooltip>\r\n            }\r\n            >\r\n                <GiPocketBow size='25' className='overlay-top' style={{borderRadius: '50%', padding: '3px'}}/>\r\n                </OverlayTrigger>\r\n                \r\n            )\r\n        } else if(weaponType === \"Sword\"){\r\n            return(\r\n                <OverlayTrigger\r\n                placement='bottom'\r\n                overlay={\r\n                <Tooltip>\r\n                    {weaponType}\r\n                </Tooltip>\r\n            }\r\n            >\r\n                <GiTwoHandedSword size='25' className='overlay-top' style={{borderRadius: '50%', padding: '3px'}}/>\r\n                </OverlayTrigger>   \r\n            )\r\n        } else if(weaponType === \"Polearm\"){\r\n            return(\r\n                <OverlayTrigger\r\n                placement='bottom'\r\n                overlay={\r\n                <Tooltip>\r\n                    {weaponType}\r\n                </Tooltip>\r\n            }\r\n            >\r\n                <GiSpearHook size='25' className='overlay-top' style={{borderRadius: '50%', padding: '3px'}}/>\r\n                </OverlayTrigger>   \r\n            )\r\n        } else if(weaponType === \"Catalyst\"){\r\n            return(\r\n                <OverlayTrigger\r\n                placement='bottom'\r\n                overlay={\r\n                <Tooltip>\r\n                    {weaponType}\r\n                </Tooltip>\r\n            }\r\n            >\r\n                <GiSecretBook size='25' className='overlay-top' style={{borderRadius: '50%', padding: '3px'}}/>\r\n                </OverlayTrigger>   \r\n            )\r\n        } else if(weaponType === \"Claymore\"){\r\n            return(\r\n                <OverlayTrigger\r\n                placement='bottom'\r\n                overlay={\r\n                <Tooltip>\r\n                    {weaponType}\r\n                </Tooltip>\r\n            }\r\n            >\r\n                <GiPiercingSword size='25' className='overlay-top' style={{borderRadius: '50%', padding: '3px'}}/>\r\n                </OverlayTrigger>              \r\n            )\r\n        }\r\n    }\r\n\r\n    if(loading){\r\n        return(\r\n        <>\r\n            <Container fluid>\r\n                <Row className=\"justify-content-md-center\" style={{paddingLeft: '10px', paddingTop: '30px'}}>\r\n                    <div style={{display: 'flex', alignItems: 'center'}}>\r\n                        <FaGem size='64' color='white' style={{display: \"inline-block\", verticalAlign: 'middle !important', marginRight: '10px'}}/>\r\n                        <h1 style={{display: \"inline-block\"}}>Needed Item Summary</h1>\r\n                    </div>   \r\n                </Row>\r\n                <Row className=\"justify-content-md-center\" style={{paddingLeft: '10px'}}>\r\n                    <p>What you entered all that information for!</p>\r\n                </Row>\r\n                <Row className=\"justify-content-md-center\">\r\n                    <p>Loading...</p>\r\n                    <Spinner variant=\"primary\" animation=\"border\" role=\"status\">\r\n                        <span className=\"sr-only\">Loading...</span>\r\n                    </Spinner>\r\n                </Row>\r\n            </Container>\r\n        </>     \r\n    );}\r\n    return(\r\n        <>\r\n        <Container fluid>\r\n            <Row className=\"justify-content-md-center\" style={{paddingLeft: '10px', paddingTop: '30px'}}>\r\n                <div style={{display: 'flex', alignItems: 'center'}}>\r\n                    <FaGem size='64' color='white' style={{display: \"inline-block\", verticalAlign: 'middle !important', marginRight: '10px'}}/>\r\n                    <h1 style={{display: \"inline-block\"}}>Needed Item Summary</h1>\r\n                </div>   \r\n            </Row>\r\n            <Row className=\"justify-content-md-center\" style={{paddingLeft: '10px'}}>\r\n                <p>What you entered all that information for!</p>\r\n            </Row>\r\n            <Accordion defaultActiveKey=\"0\" style={{marginBottom: '10px'}}>\r\n                <Card className=\"acc-card text-center\">\r\n                    <Card.Header>\r\n                        <ToggleIcon as={Card.Header} eventKey=\"0\" onClick={{}}>\r\n                        <b>All Items</b>\r\n                        </ToggleIcon>\r\n                    </Card.Header>\r\n                    <Accordion.Collapse eventKey=\"0\">\r\n                    <Card.Body>\r\n                        <Row className=\"justify-content-md-center\">\r\n                            {Object.keys(userItems).map((item, i) => {\r\n                                var itemName = userItems[item].name;\r\n                                if(Number(userItems[item].item_id) === 1){\r\n                                    return <></>;\r\n                                }                  \r\n                                return (\r\n                                    <Fragment key={itemName}>\r\n                                        {imageWithToolTipIfAmount('Item', itemName, userItems[item].needed)}\r\n                                    </Fragment>\r\n                                )\r\n                            })}\r\n                        </Row>\r\n                    </Card.Body>\r\n                    </Accordion.Collapse>\r\n                </Card>\r\n            </Accordion>\r\n            <Accordion defaultActiveKey=\"0\" style={{marginBottom: '10px'}}>\r\n                <Card className=\"acc-card text-center\">\r\n                    <Card.Header>\r\n                        <ToggleIcon as={Card.Header} eventKey=\"0\" onClick={{}}>\r\n                        <b>Monster Drops</b>\r\n                        </ToggleIcon>\r\n                    </Card.Header>\r\n                    <Accordion.Collapse eventKey=\"0\">\r\n                    <Card.Body>\r\n                        <Row className=\"justify-content-md-center\">\r\n                            {Object.keys(monsterItems).map((item, i) => {\r\n                                var monsterName = Object.keys(monsterItems)[i];\r\n                                return (\r\n                                    <Fragment key={monsterName}>\r\n                                        <Card className='sum-card' key={monsterName + '1'}>\r\n                                        \r\n                                        <Card.Img className='sum-card-img' variant=\"top\" src={getItemImage('Monster', monsterName)} style={getRarityGradient(1)}/>\r\n                                            <Card.Header key={monsterName  + '2'} style={getRarityFrame(1)}>\r\n                                                <h5 className='genshin-font'>{monsterName}</h5>\r\n                                            </Card.Header>\r\n                                            <Card.Body>\r\n                                                <div key={monsterName  + '3'}>\r\n                                                    <Card className=\"sum-inner-card text-center\">\r\n                                                        <Card.Header>\r\n                                                            <b>Needed Drops</b>\r\n                                                        </Card.Header>\r\n                                                        <Card.Body>\r\n                                                            {Object.keys(monsterItems[item]).map((item2, j) => {\r\n                                                                var itemName = Object.keys(monsterItems[item])[j];\r\n                                                                return (\r\n                                                                    <Fragment key={itemName}>\r\n                                                                        {imageWithToolTipIfAmount('Item', itemName, monsterItems[item][item2])}\r\n                                                                        \r\n                                                                    </Fragment>\r\n                                                                );\r\n                                                            })}\r\n                                                        </Card.Body>\r\n                                                    </Card>\r\n                                                </div>\r\n                                            </Card.Body> \r\n                                        </Card>\r\n                                    </Fragment>\r\n                                )\r\n                            })}\r\n                        </Row>\r\n                    </Card.Body>\r\n                    </Accordion.Collapse>\r\n                </Card>\r\n            </Accordion>\r\n            <Accordion defaultActiveKey=\"0\" style={{marginBottom: '10px'}}>\r\n                <Card className=\"acc-card text-center\">\r\n                    <Card.Header>\r\n                        <ToggleIcon as={Card.Header} eventKey=\"0\" onClick={{}}>\r\n                        <b>Boss Drops</b>\r\n                        </ToggleIcon>\r\n                    </Card.Header>\r\n                    <Accordion.Collapse eventKey=\"0\">\r\n                    <Card.Body>\r\n                        <Row className=\"justify-content-md-center\">\r\n                            <h5>Normal</h5>\r\n                        </Row>\r\n                        <Row className=\"justify-content-md-center\">                        \r\n                            {Object.keys(bossItems.normal).map((item, i) => {\r\n                                var monsterName = Object.keys(bossItems.normal)[i];\r\n                                return (\r\n                                    <Fragment key={monsterName}>\r\n                                        <Card className='sum-card' key={monsterName + '1'}>\r\n                                        <Card.Img className='sum-card-img' variant=\"top\" src={getItemImage('Monster', monsterName)} style={getRarityGradient(4)}/>\r\n                                            <Card.Header key={monsterName  + '2'} style={getRarityFrame(4)}>\r\n                                                <h5 className='genshin-font'>{monsterName}</h5>\r\n                                            </Card.Header>\r\n                                            <Card.Body>\r\n                                                <Card className=\"sum-inner-card text-center\">\r\n                                                    <Card.Header>\r\n                                                        <b>Needed Drops</b>\r\n                                                    </Card.Header>\r\n                                                    <Card.Body>\r\n                                                        {Object.keys(bossItems.normal[item]).map((item2, j) => {\r\n                                                            var itemName = Object.keys(bossItems.normal[item])[j];\r\n                                                            return (\r\n                                                                <Fragment key={itemName}>\r\n                                                                    {imageWithToolTipIfAmount('Item', itemName, bossItems.normal[item][item2])}\r\n                                                                    \r\n                                                                </Fragment>\r\n                                                            );\r\n                                                        })}\r\n                                                    </Card.Body>\r\n                                                </Card>\r\n                                            </Card.Body> \r\n                                        </Card>\r\n                                    </Fragment>\r\n                                )\r\n                            })}\r\n                        </Row>\r\n                        <Row className=\"justify-content-md-center\">\r\n                            <h5>Weekly</h5>\r\n                        </Row>\r\n                        <Row className=\"justify-content-md-center\">\r\n                        {Object.keys(bossItems.weekly).map((item, i) => {\r\n                                var monsterName = Object.keys(bossItems.weekly)[i];\r\n                                return (\r\n                                    <Fragment key={monsterName}>\r\n                                        <Card className='sum-card' key={monsterName + '1'}>\r\n                                        <Card.Img variant=\"top\" src={getItemImage('Monster', monsterName)} className='sum-card-img' style={getRarityGradient(5)}/>\r\n                                            <Card.Header key={monsterName  + '2'} style={getRarityFrame(5)}>\r\n                                                <h5 className='genshin-font'>{monsterName}</h5>\r\n                                            </Card.Header>\r\n                                            <Card.Body>\r\n                                                <Card className=\"sum-inner-card text-center\">\r\n                                                    <Card.Header>\r\n                                                        <b>Needed Drops</b>\r\n                                                    </Card.Header>\r\n                                                    <Card.Body>\r\n                                                        {Object.keys(bossItems.weekly[item]).map((item2, j) => {\r\n                                                            var itemName = Object.keys(bossItems.weekly[item])[j];\r\n                                                            return (\r\n                                                                <Fragment key={itemName}>\r\n                                                                    {imageWithToolTipIfAmount('Item', itemName, bossItems.weekly[item][item2])}\r\n                                                                    \r\n                                                                </Fragment>\r\n                                                            );\r\n                                                        })}\r\n                                                    </Card.Body>\r\n                                                </Card>\r\n                                            </Card.Body> \r\n                                        </Card>\r\n                                    </Fragment>\r\n                                )\r\n                            })}\r\n                        </Row>\r\n                    </Card.Body>\r\n                    </Accordion.Collapse>\r\n                </Card>\r\n            </Accordion>\r\n            <Accordion defaultActiveKey=\"0\" style={{marginBottom: '10px'}}>\r\n                <Card className=\"acc-card text-center\">\r\n                <Card.Header>\r\n                        <ToggleIcon as={Card.Header} eventKey=\"0\" onClick={{}}>\r\n                        <b>Domain Drops</b>\r\n                        </ToggleIcon>\r\n                    </Card.Header>\r\n                    <Accordion.Collapse eventKey=\"0\">\r\n                    <Card.Body>\r\n                        <Row className=\"justify-content-md-center\">\r\n                            {Object.keys(domainItems).map((item, i) => {\r\n                                var domainName = Object.keys(domainItems)[i];\r\n                                return (\r\n                                    <Fragment key={domainName}>\r\n                                        <Card className='sum-card' key={domainName + '1'}>\r\n                                        <Card.Img  variant=\"top\" src={getItemImage('Domain', domainName)} style={{padding: '5px'}}/>\r\n                                            <Card.Header key={domainName  + '2'}>\r\n                                                <h4 className='genshin-font'>{domainName}</h4>\r\n                                            </Card.Header>\r\n                                            <Card.Body>\r\n                                            <Card className=\"sum-inner-card text-center\">\r\n                                                    <Card.Header>\r\n                                                        <b>Needed Drops</b>\r\n                                                    </Card.Header>\r\n                                                    <Card.Body>\r\n                                                    <Row className=\"justify-content-md-between\">\r\n                                                        <Col>\r\n                                                            <p style={{margin: 0}}>Mon/Thurs</p>\r\n                                                            <div key={domainName  + '3'}>                              \r\n                                                                { domainItems[item][1] ?\r\n                                                                        Object.keys(domainItems[item][1]).map((item2, j) => {\r\n                                                                            var itemName = Object.keys(domainItems[item][1])[j];\r\n                                                                            return (\r\n                                                                                <Fragment key={itemName}>\r\n                                                                                    {imageWithToolTipIfAmount('Item', itemName, domainItems[item][1][item2])}\r\n                                                                                    \r\n                                                                                </Fragment>\r\n                                                                            );\r\n                                                                        })\r\n                                                                : ''}\r\n                                                            </div>\r\n                                                        </Col>\r\n                                                        <Col>\r\n                                                            <p style={{margin: 0}}>Tues/Fri</p>\r\n                                                            <div key={domainName  + '3'}>                              \r\n                                                                {domainItems[item][2] ?\r\n                                                                        Object.keys(domainItems[item][2]).map((item2, j) => {\r\n                                                                            var itemName = Object.keys(domainItems[item][2])[j];\r\n                                                                            return (\r\n                                                                                <Fragment key={itemName}>\r\n                                                                                    {imageWithToolTipIfAmount('Item', itemName, domainItems[item][2][item2])}\r\n                                                                                    \r\n                                                                                </Fragment>\r\n                                                                            );\r\n                                                                        })\r\n                                                                : ''}\r\n                                                            </div>\r\n                                                        </Col>\r\n                                                        <Col>\r\n                                                            <p style={{margin: 0}}>Wed/Sat</p>\r\n                                                            <div key={domainName  + '3'}>                              \r\n                                                                {domainItems[item][3] ?\r\n                                                                        Object.keys(domainItems[item][3]).map((item2, j) => {\r\n                                                                            var itemName = Object.keys(domainItems[item][3])[j];\r\n                                                                            return (\r\n                                                                                <Fragment key={itemName}>\r\n                                                                                    {imageWithToolTipIfAmount('Item', itemName, domainItems[item][3][item2])}\r\n                                                                                    \r\n                                                                                </Fragment>\r\n                                                                            );\r\n                                                                        })\r\n                                                                : ''}\r\n                                                            </div>\r\n                                                        </Col>\r\n                                                    </Row>\r\n                                                    </Card.Body>\r\n                                                </Card>\r\n                                            \r\n                                            \r\n                                            </Card.Body> \r\n                                        </Card>\r\n                                    </Fragment>\r\n                                )\r\n                            })}\r\n                        </Row>\r\n                    </Card.Body>\r\n                    </Accordion.Collapse>\r\n                </Card>\r\n            </Accordion>\r\n            <Accordion defaultActiveKey=\"0\" style={{marginBottom: '10px'}}>\r\n                <Card className=\"acc-card text-center\">\r\n                <Card.Header>\r\n                        <ToggleIcon as={Card.Header} eventKey=\"0\" onClick={{}}>\r\n                        <b>Mining and Harvesting</b>\r\n                        </ToggleIcon>\r\n                    </Card.Header>\r\n                    <Accordion.Collapse eventKey=\"0\">\r\n                    <Card.Body>\r\n                        <Row className=\"justify-content-md-center\">                        \r\n                            {Object.keys(harvestingItems).map((item, i) => {\r\n                                var placeName = Object.keys(harvestingItems)[i];\r\n                                return (\r\n                                    <Fragment key={placeName}>\r\n                                        <Card className='sum-card' key={placeName + '1'}>\r\n                                        <Card.Img  variant=\"top\" src={getItemImage('Location', placeName)} style={{padding: '5px'}}/>\r\n                                            <Card.Header key={placeName  + '2'}>\r\n                                            <h4 className='genshin-font'>{placeName}</h4>\r\n                                            </Card.Header>\r\n                                            <Card.Body>\r\n                                                <Card className=\"sum-inner-card text-center\">\r\n                                                    <Card.Header>\r\n                                                        <b>Needed Drops</b>\r\n                                                    </Card.Header>\r\n                                                    <Card.Body>\r\n                                                    {Object.keys(harvestingItems[item]).map((item2, j) => {\r\n                                                        var itemName = Object.keys(harvestingItems[item])[j];\r\n                                                        return (\r\n                                                            <Fragment key={itemName}>\r\n                                                                {imageWithToolTipIfAmount('Item', itemName, harvestingItems[item][item2])}\r\n                                                                \r\n                                                            </Fragment>\r\n                                                        );\r\n                                                    })}\r\n                                                    </Card.Body>\r\n                                                </Card>\r\n                                            </Card.Body> \r\n                                        </Card>\r\n                                    </Fragment>\r\n                                )\r\n                            })}\r\n                        </Row>\r\n                    </Card.Body>\r\n                    </Accordion.Collapse>\r\n                </Card>\r\n            </Accordion>\r\n            <Accordion defaultActiveKey=\"0\" style={{marginBottom: '10px'}}>\r\n                <Card className=\"acc-card text-center\">\r\n                <Card.Header>\r\n                        <ToggleIcon as={Card.Header} eventKey=\"0\" onClick={{}}>\r\n                        <b>Miscellaneous Items</b>\r\n                        </ToggleIcon>\r\n                    </Card.Header>\r\n                    <Accordion.Collapse eventKey=\"0\">\r\n                    <Card.Body>\r\n                        <Row className=\"justify-content-md-center\">                        \r\n                            {Object.keys(miscItems).map((item, i) => {\r\n                                var typeName = Object.keys(miscItems)[i];\r\n                                return (\r\n                                    <Fragment key={typeName}>\r\n                                        <Card className='sum-card' key={typeName+ '1'}>\r\n                                        <Card.Img  variant=\"top\" src={getItemImage('Misc', typeName)} style={{padding: '5px'}}/>\r\n                                            <Card.Header key={typeName  + '2'}>\r\n                                            <h4 className='genshin-font'>{typeName}</h4>\r\n                                            </Card.Header>\r\n                                            <Card.Body>\r\n                                                <Card className=\"sum-inner-card text-center\">\r\n                                                    <Card.Header>\r\n                                                        <b>Needed Drops</b>\r\n                                                    </Card.Header>\r\n                                                    <Card.Body>\r\n                                                        {Object.keys(miscItems[item]).map((item2, j) => {\r\n                                                            var itemName = Object.keys(miscItems[item])[j];\r\n                                                            return (\r\n                                                                <Fragment key={itemName}>\r\n                                                                    {imageWithToolTipIfAmount('Item', itemName, miscItems[item][item2])}                                                   \r\n                                                                </Fragment>\r\n                                                            );\r\n                                                        })}\r\n                                                    </Card.Body>\r\n                                                </Card>\r\n                                            </Card.Body> \r\n                                        </Card>\r\n                                    </Fragment>\r\n                                )\r\n                            })}\r\n                        </Row>\r\n                    </Card.Body>\r\n                    </Accordion.Collapse>\r\n                </Card>\r\n            </Accordion>\r\n            <Accordion defaultActiveKey=\"0\" style={{marginBottom: '10px'}}>\r\n                <Card className=\"acc-card text-center\">\r\n                <Card.Header>\r\n                        <ToggleIcon as={Card.Header} eventKey=\"0\" onClick={{}}>\r\n                        <b>Characters</b>\r\n                        </ToggleIcon>\r\n                    </Card.Header>\r\n                    <Accordion.Collapse eventKey=\"0\">\r\n                    <Card.Body>\r\n                        <Row className=\"justify-content-md-center\">                        \r\n                            {characterItems.map(item => {\r\n                                var character = item.name;\r\n                                return (\r\n                                    <Fragment key={character}>\r\n                                        <Card className='sum-card' key={character+ '1'} style={{width: '300px'}}>\r\n                                            <div style={getRarityGradient(item.rarity)}>\r\n                                                <div className='sum-card-div' style={{position: 'relative', display: 'inline-block', marginRight: '5px'}}>\r\n                                                    {getRarityStars(item.rarity)}\r\n                                                    <div>\r\n                                                        <Image src={getItemImage('Character', character)} style={{maxWidth: '64px', maxHeight: '64px', marginLeft: 'auto', marginRight: 'auto', marginTop: '5px', marginBottom: '5px'}}/>\r\n                                                        <OverlayTrigger\r\n                                                            placement='bottom'\r\n                                                            overlay={\r\n                                                            <Tooltip>\r\n                                                                {item.element}\r\n                                                            </Tooltip>\r\n                                                        }\r\n                                                        >\r\n                                                            <Image src={getItemImage('Element', item.element)} roundedCircle className='overlay-top' style={{width: '20px'}}/>\r\n                                                        </OverlayTrigger>         \r\n                                                    </div>                                                      \r\n                                                </div>\r\n                                            </div>  \r\n                                            <Card.Header key={character  + '2'} style={getRarityFrame(item.rarity)}>                                       \r\n                                                <h4 className='genshin-font' style={{paddingTop: '2px'}}>{character}</h4>\r\n                                            </Card.Header>\r\n                                            <Card.Body>\r\n                                            <div key={character  + '3'}>\r\n                                                    <Card className=\"sum-inner-card text-center\">\r\n                                                        <Card.Header>\r\n                                                            <b>Needed Items</b>\r\n                                                        </Card.Header>\r\n                                                        <Card.Body>\r\n                                                            {imageWithToolTipIfAmount('Item',item.boss.item, item.boss.amount)}\r\n                                                            {imageWithToolTipIfAmount('Item',item.specialty.item, item.specialty.amount)}                                  \r\n                                                            {imageWithToolTipIfAmount('Item',item.crystal.item_rarity2, item.crystal.rarity2)}\r\n                                                            {imageWithToolTipIfAmount('Item',item.crystal.item_rarity3, item.crystal.rarity3)}\r\n                                                            {imageWithToolTipIfAmount('Item',item.crystal.item_rarity4, item.crystal.rarity4)}\r\n                                                            {imageWithToolTipIfAmount('Item',item.crystal.item_rarity5, item.crystal.rarity5)}\r\n                                                            {imageWithToolTipIfAmount('Item',item.common.item_rarity1, item.common.rarity1+item.talent.common_rarity1)}\r\n                                                            {imageWithToolTipIfAmount('Item',item.common.item_rarity2, item.common.rarity2+item.talent.common_rarity2)}\r\n                                                            {imageWithToolTipIfAmount('Item',item.common.item_rarity3, item.common.rarity3+item.talent.common_rarity3)}\r\n                                                            {imageWithToolTipIfAmount('Item',item.talent.item_rarity2, item.talent.rarity2)}\r\n                                                            {imageWithToolTipIfAmount('Item',item.talent.item_rarity3, item.talent.rarity3)}\r\n                                                            {imageWithToolTipIfAmount('Item',item.talent.item_rarity4, item.talent.rarity4)}\r\n                                                            {imageWithToolTipIfAmount('Item',item.weeklyBoss.item, item.weeklyBoss.amount)}\r\n                                                        </Card.Body>\r\n                                                    </Card>  \r\n                                                    <Card className=\"sum-inner-card text-center\">\r\n                                                        <Card.Header>\r\n                                                            <b>Needed XP</b>\r\n                                                        </Card.Header>\r\n                                                        <Card.Body>\r\n                                                        {imageWithToolTipIfAmount('Item',\"Hero's Wit\", item.xp.heroswit)}\r\n                                                        {imageWithToolTipIfAmount('Item',\"Adventurer's Experience\", item.xp.adventurers)}                                  \r\n                                                        {imageWithToolTipIfAmount('Item',\"Wanderer's Advice\", item.xp.wanderers)}\r\n                                                        </Card.Body>\r\n                                                    </Card>\r\n                                                    <Card className=\"sum-inner-card text-center\">\r\n                                                        <Card.Header>\r\n                                                            <b>Mora</b>\r\n                                                        </Card.Header>\r\n                                                        <Card.Body>\r\n                                                            <Row className=\"justify-content-md-between\">\r\n                                                                <Col>\r\n                                                                    <p style={{margin: '0px'}}>Leveling</p>\r\n                                                                    <Image fluid src={getItemImage('Item', 'Mora')} className='sum-image' style={{width: '15px', height: '15px', verticalAlign: 'baseline'}}/>{item.mora.leveling}\r\n                                                                </Col>                                                          \r\n                                                                <Col>\r\n                                                                    <p style={{margin: '0px'}}>Ascension</p>\r\n                                                                    <Image fluid src={getItemImage('Item', 'Mora')} className='sum-image' style={{width: '15px', height: '15px', verticalAlign: 'baseline'}}/>{item.mora.ascension}\r\n                                                                </Col>\r\n                                                                <Col>\r\n                                                                    <p style={{margin: '0px'}}>Talents</p>\r\n                                                                    <Image fluid src={getItemImage('Item', 'Mora')} className='sum-image' style={{width: '15px', height: '15px', verticalAlign: 'baseline'}}/>{item.mora.talents}\r\n                                                                </Col>  \r\n                                                            </Row>     \r\n                                                        </Card.Body>\r\n                                                    </Card>                                                                                                                       \r\n                                            </div>\r\n                                            </Card.Body> \r\n                                        </Card>\r\n                                    </Fragment>\r\n                                )\r\n                            })}\r\n                        </Row>\r\n                    </Card.Body>\r\n                    </Accordion.Collapse>\r\n                </Card>\r\n            </Accordion>\r\n            <Accordion defaultActiveKey=\"0\">\r\n                <Card className=\"acc-card text-center\">\r\n                <Card.Header>\r\n                        <ToggleIcon as={Card.Header} eventKey=\"0\" onClick={{}}>\r\n                        <b>Weapons</b>\r\n                        </ToggleIcon>\r\n                    </Card.Header>\r\n                    <Accordion.Collapse eventKey=\"0\">\r\n                    <Card.Body>\r\n                        <Row className=\"justify-content-md-center\">                        \r\n                            {weaponItems.map(item => {\r\n                                var weapon = item.name;\r\n                                return (\r\n                                    <Fragment key={weapon}>\r\n                                        <Card className='sum-card' key={weapon+ '1'} style={{width: '300px'}}>\r\n                                            <div style={getRarityGradient(item.rarity)}>\r\n                                                <div className='sum-card-div' style={{position: 'relative', display: 'inline-block', marginRight: '5px'}}>\r\n                                                    {getRarityStars(item.rarity)}\r\n                                                    <div>\r\n                                                        <Image src={getItemImage('Weapon', weapon)} style={{maxWidth: '64px', maxHeight: '64px', marginLeft: 'auto', marginRight: 'auto', marginTop: '5px', marginBottom: '5px'}}/>\r\n                                                        {getWeaponTypeIcon(item.type)}\r\n                                                    </div>                                                      \r\n                                                </div>\r\n                                            </div>  \r\n                                            <Card.Header key={weapon  + '2'} style={getRarityFrame(item.rarity)}>                                       \r\n                                                <h4 className='genshin-font' style={{paddingTop: '2px'}}>{weapon}</h4>\r\n                                            </Card.Header>\r\n                                            <Card.Body>\r\n                                            <div key={weapon  + '3'}>\r\n                                                    <Card className=\"sum-inner-card text-center\">\r\n                                                        <Card.Header>\r\n                                                            <b>Needed Items</b>\r\n                                                        </Card.Header>\r\n                                                        <Card.Body>                                \r\n                                                            {imageWithToolTipIfAmount('Item',item.domain.item_rarity2, item.domain.rarity2)}\r\n                                                            {imageWithToolTipIfAmount('Item',item.domain.item_rarity3, item.domain.rarity3)}\r\n                                                            {imageWithToolTipIfAmount('Item',item.domain.item_rarity4, item.domain.rarity4)}\r\n                                                            {imageWithToolTipIfAmount('Item',item.domain.item_rarity5, item.domain.rarity5)}\r\n                                                            {imageWithToolTipIfAmount('Item',item.common1.item_rarity2, item.common1.rarity2)}\r\n                                                            {imageWithToolTipIfAmount('Item',item.common1.item_rarity3, item.common1.rarity3)}\r\n                                                            {imageWithToolTipIfAmount('Item',item.common1.item_rarity4, item.common1.rarity4)}\r\n                                                            {imageWithToolTipIfAmount('Item',item.common2.item_rarity1, item.common2.rarity1)}\r\n                                                            {imageWithToolTipIfAmount('Item',item.common2.item_rarity2, item.common2.rarity2)}\r\n                                                            {imageWithToolTipIfAmount('Item',item.common2.item_rarity3, item.common2.rarity3)}\r\n                                                        </Card.Body>\r\n                                                    </Card>  \r\n                                                    <Card className=\"sum-inner-card text-center\">\r\n                                                        <Card.Header>\r\n                                                            <b>Needed XP</b>\r\n                                                        </Card.Header>\r\n                                                        <Card.Body>\r\n                                                            {imageWithToolTipIfAmount('Item',\"Mystic Enhancement Ore\", item.xp.mystic)}\r\n                                                            {imageWithToolTipIfAmount('Item',\"Fine Enhancement Ore\", item.xp.fine)}                                  \r\n                                                            {imageWithToolTipIfAmount('Item',\"Enhancement Ore\", item.xp.regular)}\r\n                                                        </Card.Body>\r\n                                                    </Card>\r\n                                                    <Card className=\"sum-inner-card text-center\">\r\n                                                        <Card.Header>\r\n                                                            <b>Mora</b>\r\n                                                        </Card.Header>\r\n                                                        <Card.Body>\r\n                                                            <Row className=\"justify-content-md-between\">\r\n                                                                <Col>\r\n                                                                    <p style={{margin: '0px'}}>Leveling</p>\r\n                                                                    <Image fluid src={getItemImage('Item', 'Mora')} className='sum-image' style={{width: '15px', height: '15px', verticalAlign: 'baseline'}}/>{item.mora.leveling}\r\n                                                                </Col>                                                          \r\n                                                                <Col>\r\n                                                                    <p style={{margin: '0px'}}>Ascension</p>\r\n                                                                    <Image fluid src={getItemImage('Item', 'Mora')} className='sum-image' style={{width: '15px', height: '15px', verticalAlign: 'baseline'}}/>{item.mora.ascension}\r\n                                                                </Col>\r\n                                                            </Row>     \r\n                                                        </Card.Body>\r\n                                                    </Card>                                                                                                                       \r\n                                            </div>\r\n                                            </Card.Body> \r\n                                        </Card>\r\n                                    </Fragment>\r\n                                )\r\n                            })}\r\n                        </Row>\r\n                    </Card.Body>\r\n                    </Accordion.Collapse>\r\n                </Card>\r\n            </Accordion>\r\n        </Container>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Items;\r\n","import Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport {FaHeart} from 'react-icons/fa';\r\n\r\nfunction Home(){\r\n    return(\r\n        <Container fluid>\r\n          <Row className=\"justify-content-md-center\" style={{paddingLeft: '10px', paddingTop: '30px'}}>\r\n                <div style={{display: 'flex', alignItems: 'center'}}>\r\n                    <FaHeart size='64' color='white' style={{display: \"inline-block\", verticalAlign: 'middle !important', marginRight: '10px'}}/>\r\n                    <h1 style={{display: \"inline-block\"}}>Suggestions/Feedback</h1>\r\n                </div>   \r\n            </Row>\r\n            <Row className=\"justify-content-md-center\" style={{paddingLeft: '10px'}}>\r\n                <p>Have any suggestions/feedback/bug reports for me? Fill out this form!</p>\r\n            </Row>\r\n          <Row className=\"justify-content-md-center\">\r\n            <div style={{backgroundColor: 'white', borderRadius: '5px'}}>\r\n                <iframe title=\"Suggestion Form\" src=\"https://docs.google.com/forms/d/e/1FAIpQLScNsOJc5NGtB2R12uum1-m_GedQXR7f8u8WpP9fYxK_E69Z7w/viewform?embedded=true\" width=\"640\" height=\"750\" frameborder=\"0\" marginheight=\"0\" marginwidth=\"0\">Loading…</iframe>\r\n            </div>\r\n          </Row>                \r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Home;","import React, { useState } from \"react\";\r\nimport { ProSidebar, Menu, MenuItem, SidebarContent} from 'react-pro-sidebar';\r\nimport { IconContext } from 'react-icons';\r\nimport { FaBars, FaGem, FaHeart, FaHome } from 'react-icons/fa';\r\nimport { GiSwapBag } from 'react-icons/gi';\r\nimport { BsFillPeopleFill } from 'react-icons/bs';\r\nimport { IoIosArrowBack, IoIosArrowForward } from 'react-icons/io';\r\nimport { RiSwordFill } from 'react-icons/ri';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport { Switch, Route, Link } from \"react-router-dom\";\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport { GoogleLogin, GoogleLogout } from 'react-google-login';\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport 'react-pro-sidebar/dist/css/styles.css';\r\nimport \"./App.css\";\r\nimport {refreshTokenSetup} from './tools/refreshToken';\r\nimport {authenticate, authlogout} from './services/AuthService';\r\nimport {getLocalUserCharacters, addUserCharacter} from './services/CharacterService';\r\nimport {getLocalUserWeapons, addUserWeapon} from './services/WeaponService';\r\nimport {getLocalUserItems, updateUserItem} from './services/ItemService';\r\n\r\nimport Home from \"./components/Main\";\r\nimport Characters from \"./components/Characters\";\r\nimport Weapons from \"./components/Weapons\";\r\nimport Items from \"./components/Items\";\r\nimport ItemSummary from \"./components/ItemSummary\";\r\nimport Suggestions from \"./components/Suggestions\";\r\n\r\nimport Collapse from \"react-bootstrap/Collapse\";\r\nimport Container from \"react-bootstrap/Container\";\r\n\r\nimport {userContext} from './userContext';\r\n\r\nfunction App (){\r\n  const [collapsed, setCollapsed] = useState(false);\r\n  const [menuOpen, setMenuOpen] = useState(false);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [user, setUser] = useState();\r\n\r\n  const loginSuccess = async (response) => {\r\n    await refreshTokenSetup(response);\r\n    authenticate(response.tokenId).then( (response) => {\r\n      if(response.data.token){\r\n          localStorage.setItem(\"user\", JSON.stringify(response.data));\r\n          setUser(response.data);\r\n      }\r\n      // Check if local x exists\r\n      const localUserCharacters = getLocalUserCharacters();\r\n      const localUserWeapons = getLocalUserWeapons();\r\n      const localUserItems = getLocalUserItems();\r\n      if(localUserCharacters || localUserWeapons || localUserItems){\r\n        setShowModal(true);\r\n        if(localUserCharacters){\r\n          localUserCharacters.forEach(element => {\r\n            const data ={\r\n              charid: element.character_id,\r\n              level: element.Users[0].UserCharacters.level,\r\n              desired_level: element.Users[0].UserCharacters.desired_level,\r\n              ascended: element.Users[0].UserCharacters.ascended,\r\n              ascend_next_max: element.Users[0].UserCharacters.ascend_next_max,\r\n              normal_atk_level: element.Users[0].UserCharacters.normal_atk_level,\r\n              normal_atk_desired_level: element.Users[0].UserCharacters.normal_atk_desired_level,\r\n              q_atk_level: element.Users[0].UserCharacters.q_atk_level,\r\n              q_atk_desired_level: element.Users[0].UserCharacters.q_atk_desired_level,\r\n              e_atk_level: element.Users[0].UserCharacters.e_atk_level,\r\n              e_atk_desired_level: element.Users[0].UserCharacters.e_atk_desired_level,\r\n              managed: element.Users[0].UserCharacters.managed\r\n            };\r\n            addUserCharacter(data)\r\n            .then(response => {\r\n                \r\n            })\r\n            .catch(e => {\r\n                console.log(e);\r\n            });\r\n          });\r\n          localStorage.removeItem(\"userCharacters\");\r\n        } \r\n  \r\n        if(localUserWeapons){\r\n          localUserWeapons.forEach(element => {\r\n            const data ={\r\n              weaponid: element.weapon_id,\r\n              level: element.Users[0].UserWeapons.level,\r\n              desired_level: element.Users[0].UserWeapons.desired_level,\r\n              ascended: element.Users[0].UserWeapons.ascended,\r\n              ascend_next_max: element.Users[0].UserWeapons.ascend_next_max,\r\n              managed: element.Users[0].UserWeapons.managed\r\n            };\r\n            addUserWeapon(data)\r\n            .then(response => {\r\n                \r\n            })\r\n            .catch(e => {\r\n                console.log(e);\r\n            });\r\n          });\r\n          localStorage.removeItem(\"userWeapons\");\r\n        }\r\n  \r\n        if(localUserItems){\r\n          localUserItems.forEach(element => {\r\n            const data ={\r\n              itemid: element.item_id,\r\n              amount: element.Users[0].UserItems.amount.amount,\r\n              forge: element.Users[0].UserItems.amount.forge\r\n            };\r\n            updateUserItem(data)\r\n            .then(response => {\r\n                \r\n            })\r\n            .catch(e => {\r\n                console.log(e);\r\n            });\r\n          });\r\n          localStorage.removeItem(\"userItems\");\r\n        }\r\n        setShowModal(false);\r\n      }   \r\n    }).catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n  const loginFail = (response) => {\r\n    console.log(response);\r\n  }\r\n\r\n  const logout = () => {\r\n    //logout\r\n    authlogout();\r\n    setUser(undefined);\r\n  }\r\n\r\n  return(\r\n    <div className=\"page-content\">      \r\n        <IconContext.Provider value={{className : 'react-icons'}}>\r\n          <Modal\r\n                  show={showModal}\r\n                  backdrop=\"static\"\r\n                  keyboard={false}\r\n                  aria-labelledby=\"contained-modal-title-vcenter\"\r\n                  centered\r\n                  size=\"lg\"\r\n              >\r\n                  <Modal.Header>\r\n                      <Modal.Title id=\"contained-modal-title-vcenter\">\r\n                          Uploading Local Data\r\n                      </Modal.Title>\r\n                  </Modal.Header>\r\n                  <Modal.Body>\r\n                      GIM is currently uploading your local data to the database. <br></br>\r\n                      Please wait...\r\n                      <Spinner animation=\"border\" variant=\"light\" />\r\n                  </Modal.Body>\r\n          </Modal>\r\n            <Navbar variant=\"dark\" fixed=\"top\" className='navbar'>\r\n                <Button variant=\"dark\" onMouseDown={e => e.preventDefault()} onClick={() => setMenuOpen(!menuOpen)} className=\"nav-btn\">\r\n                  <FaBars />\r\n                </Button>\r\n                <Button variant=\"dark\" className=\"nav-btn\" onMouseDown={e => e.preventDefault()} onClick={\r\n                  () => {setCollapsed(!collapsed)}}>\r\n                  {collapsed\r\n                  ? <IoIosArrowForward/ >\r\n                  : <IoIosArrowBack />}\r\n                </Button>\r\n                \r\n              <div className=\"top-brand\">\r\n                <Navbar.Brand href=\"/\">\r\n                  <div style={{display: 'inline-block'}}>\r\n                    <img src={process.env.PUBLIC_URL + '/logo192.png'} style={{height: '32px', width: '32px', marginRight: \"10px\", display: 'inline-block', verticalAlign: 'top'}} alt=\"Website logo that looks like a heart\"/>\r\n                  </div>\r\n                    GIM\r\n                </Navbar.Brand>\r\n              </div>\r\n              <div style={{position: 'fixed', right: '10px'}}>\r\n                {!user? \r\n                  <GoogleLogin\r\n                      clientId=\"871403107294-7if7ber7cm2po4t5nnrvvdogpsp09t0l.apps.googleusercontent.com\"\r\n                      buttonText=\"Login with Google\"\r\n                      onSuccess={loginSuccess}\r\n                      onFailure={loginFail}\r\n                      cookiePolicy={'single_host_origin'}\r\n                      theme={'dark'}\r\n                      isSignedIn={true}\r\n                  /> : \r\n                  <GoogleLogout\r\n                    clientId=\"871403107294-7if7ber7cm2po4t5nnrvvdogpsp09t0l.apps.googleusercontent.com\"\r\n                    buttonText=\"Logout\"\r\n                    onLogoutSuccess={logout}\r\n                    theme={'dark'}\r\n                  />\r\n                }\r\n                              \r\n              </div>\r\n\r\n              \r\n            </Navbar>\r\n          <Collapse className={menuOpen ? \"sidebar-open\" : \"sidebar-collapse\"} dimension=\"width\" in={menuOpen}>\r\n              <div className=\"sidebar\">\r\n                <ProSidebar collapsed={collapsed}>\r\n                  <SidebarContent style={{backgroundColor: '#424242'}}>\r\n                    <Menu iconShape=\"none\">\r\n                      <MenuItem icon={<FaHome size='35'/>}>\r\n                        <b>Home</b>\r\n                        <Link to =\"/\"/>\r\n                      </MenuItem>\r\n                      <MenuItem icon={<BsFillPeopleFill size='35'/>}>\r\n                        <b>Team Roster</b>\r\n                        <Link to =\"/team\"/>\r\n                      </MenuItem>\r\n                      <MenuItem icon={<RiSwordFill size='35'/>}>\r\n                        <b>Weapon Roster</b>\r\n                        <Link to =\"/weapons\"/>\r\n                      </MenuItem>\r\n                      <MenuItem icon={<GiSwapBag size='35'/>}>\r\n                        <b>Item Inventory</b>\r\n                        <Link to =\"/items\"/>\r\n                      </MenuItem>\r\n                      <MenuItem icon={<FaGem size='35'/>}>\r\n                        <b>Item Summary</b>\r\n                        <Link to =\"/itemsummary\"/>\r\n                      </MenuItem>\r\n                      <MenuItem icon={<FaHeart size='35'/>}>\r\n                        <b>Suggestions</b>\r\n                        <Link to =\"/suggestions\"/>\r\n                      </MenuItem>\r\n                    </Menu>\r\n                  </SidebarContent>\r\n                </ProSidebar>\r\n              </div>\r\n          </Collapse>\r\n        </IconContext.Provider>\r\n        <div className={menuOpen ? \r\n          (collapsed? \"content shift-collapsed\" : \"content shift\" )\r\n          : \"content no-shift\"}>\r\n          <userContext.Provider value={user}>\r\n            <Switch>\r\n                <Route exact path=\"/\" component={Home} />\r\n                <Route exact path=\"/team\" component={Characters} />\r\n                <Route exact path=\"/weapons\" component={Weapons} />\r\n                <Route exact path=\"/items\" component={Items} />\r\n                <Route exact path=\"/itemsummary\" component={ItemSummary} />\r\n                <Route exact path=\"/suggestions\" component={Suggestions} />\r\n            </Switch>\r\n          </userContext.Provider>\r\n        </div>\r\n        <div className={menuOpen ? \r\n          (collapsed? \"footer shift-collapsed\" : \"footer shift\" )\r\n          : \"footer no-shift\"}>\r\n            <Container fluid>\r\n              <Row>\r\n                <Col md={{ span: 3, offset: 1 }} style={{marginTop: '20px'}}>\r\n                    <div style={{display: 'inline-block'}}>\r\n                      <img src={process.env.PUBLIC_URL + '/logo192.png'} style={{height: '64px', width: '64px', marginRight: \"10px\"}} alt=\"Website logo that looks like a heart\"/>\r\n                    </div>\r\n                    <p style={{display: 'inline-block'}}><b>GIM</b></p> <br></br>\r\n                    <p><b>Genshin Item Manager</b> is not affiliated with or endorsed by miHoYo.</p>\r\n                </Col>\r\n                <Col md={{ span: 3, offset: 2 }} style={{marginTop: '20px'}}>\r\n                    <p><b>Links</b></p>              \r\n                    <a href=\"mailto:GenshinItemManager@outlook.com\">Contact</a>\r\n                </Col>\r\n                <Col md={{ span: 3}} style={{marginTop: '20px'}}>\r\n                    <p><b>Social Links</b></p>\r\n                    <a href=\"https://discordapp.com/users/Muni#4321\">Discord</a><br></br>\r\n                    <a href=\"https://twitter.com/MunifiS\">Twitter</a>\r\n                </Col>\r\n              </Row>\r\n            </Container>\r\n          </div>\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default App;","import http from \"../http-common\";\r\n\r\nexport function authenticate(token){\r\n    return http.post(`/auth`, null, {headers: { Authorization: `Bearer ${token}` }});\r\n};\r\n\r\nexport function authlogout(){\r\n    localStorage.removeItem(\"user\");\r\n}\r\n\r\nexport function getCurrentUser(){\r\n    return JSON.parse(localStorage.getItem(\"user\"));\r\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from \"react-router-dom\";\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\n\nReactDOM.render(\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}